
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>animation_curve</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="style.css" />
    <script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=1XjLLEhZhQNUzd93EjU5nOGQ"></script>
</head>

<body>
    <div id="map"></div>
    <script type="text/javascript" src="../dist/Mapv.js"></script>
    <script type="text/javascript" src="./example.js"></script>
    <script type="text/javascript" src="./curve.js"></script>
    <script type="text/javascript" src="./Intensity.js"></script>
    <script type="text/javascript">

    bmap.centerAndZoom(new BMap.Point(108.603979, 32.306794), 5); // 初始化地图,设置中心点坐标和地图级别

    // 第一步创建mapv示例
    var mapv = new Mapv({
        drawTypeControl: true,
        map: bmap // 百度地图的map实例
    });
     
    var locations = [{lat: 35, lng: 116}, {lat: 30, lng: 114}, {lat: 40, lng: 100}, {lat: 22, lng: 117}];

    var COUNT = 800;
    var curvePoints = curve.getPoints(locations, {count: COUNT});
        
    var interpolate = new Intensity({
        gradient: { 
            0: "#acb6e5",
            1.0: "#86fde8"
        },
        min: 0,
        max: 1
    });
    
    var data = [
        {
            geo: curvePoints
        }
    ];
    var layer = new Mapv.Layer({
        zIndex: 1,
        mapv: mapv,
        dataType: 'simple',
        coordType: 'bd09ll',
        data: data,
        drawType: 'brush',
        drawOptions: {
            lineWidth: 5,
            shadowBlur: 20,
            shadowColor: "rgba(250, 255, 0, 1)",
            strokeStyle: "rgba(250, 250, 0, 0.2)"
        },
        animation: true,
        animationOptions: {
            size: 5
        }
    });
    </script>
</body>

</html>
