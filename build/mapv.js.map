{"version":3,"file":"mapv.js","sources":["version.js","../src/canvas/clear.js","../src/canvas/resolutionScale.js","../src/utils/Event.js","../src/utils/cityCenter.js","../src/data/DataSet.js","../src/canvas/shape/honeycomb.js","../src/canvas/path/simple.js","../src/canvas/draw/simple.js","../src/utils/Canvas.js","../src/utils/data-range/Intensity.js","../src/utils/window.js","../src/canvas/draw/heatmap.js","../src/canvas/draw/grid.js","../src/canvas/draw/honeycomb.js","../src/webgl/draw/util.js","../src/webgl/draw/line.js","../src/webgl/draw/point.js","../src/webgl/draw/earcut.js","../src/webgl/draw/polygon.js","../src/webgl/draw/simple.js","../src/utils/curve.js","../src/utils/forceEdgeBundling.js","../src/utils/data-range/Category.js","../src/utils/data-range/Choropleth.js","../src/map/mapHelper.js","../src/map/baidu-map/CanvasLayer.js","../src/utils/Tween.js","../src/utils/index.js","../src/canvas/draw/arrow.js","../src/canvas/draw/clip.js","../src/canvas/draw/text.js","../src/canvas/draw/icon.js","../src/map/BaseLayer.js","../src/map/baidu-map/AnimationLayer.js","../src/map/baidu-map/Layer.js","../src/map/google-map/CanvasLayer.js","../src/map/google-map/Layer.js","../src/map/maptalks-map/Layer.js","../src/map/gaode-map/Layer.js","../src/map/openlayers-map/Layer.js","../src/data/geojson.js","../src/data/csv.js"],"sourcesContent":["export var version = \"2.0.33\";\n","/**\n * @author kyle / http://nikai.us/\n */\n\nexport default function (context) {\n    context && context.clearRect && context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n    //context.canvas.width = context.canvas.width;\n    //context.canvas.height = context.canvas.height;\n}\n","/**\n * @author kyle / http://nikai.us/\n */\n\nexport default function (context) {\n    var devicePixelRatio = window.devicePixelRatio || 1;\n    context.canvas.width = context.canvas.width * devicePixelRatio;\n    context.canvas.height = context.canvas.height * devicePixelRatio;\n    context.canvas.style.width = context.canvas.width / devicePixelRatio + 'px';\n    context.canvas.style.height = context.canvas.height / devicePixelRatio  + 'px';\n    context.scale(devicePixelRatio, devicePixelRatio);\n}\n","function Event() {\n    this._subscribers = {};  // event subscribers\n}\n\n/**\n * Subscribe to an event, add an event listener\n * @param {String} event        Event name. Available events: 'put', 'update',\n *                              'remove'\n * @param {function} callback   Callback method. Called with three parameters:\n *                                  {String} event\n *                                  {Object | null} params\n *                                  {String | Number} senderId\n */\nEvent.prototype.on = function(event, callback) {\n  var subscribers = this._subscribers[event];\n  if (!subscribers) {\n    subscribers = [];\n    this._subscribers[event] = subscribers;\n  }\n\n  subscribers.push({\n    callback: callback\n  });\n};\n\n/**\n * Unsubscribe from an event, remove an event listener\n * @param {String} event\n * @param {function} callback\n */\nEvent.prototype.off = function(event, callback) {\n  var subscribers = this._subscribers[event];\n  if (subscribers) {\n    //this._subscribers[event] = subscribers.filter(listener => listener.callback != callback);\n    for (var i = 0; i < subscribers.length; i++) {\n        if (subscribers[i].callback == callback) {\n            subscribers.splice(i, 1);\n            i--;\n        }\n    }\n  }\n};\n\n/**\n * Trigger an event\n * @param {String} event\n * @param {Object | null} params\n * @param {String} [senderId]       Optional id of the sender.\n * @private\n */\nEvent.prototype._trigger = function (event, params, senderId) {\n  if (event == '*') {\n    throw new Error('Cannot trigger event *');\n  }\n\n  var subscribers = [];\n  if (event in this._subscribers) {\n    subscribers = subscribers.concat(this._subscribers[event]);\n  }\n  if ('*' in this._subscribers) {\n    subscribers = subscribers.concat(this._subscribers['*']);\n  }\n\n  for (var i = 0, len = subscribers.length; i < len; i++) {\n    var subscriber = subscribers[i];\n    if (subscriber.callback) {\n      subscriber.callback(event, params, senderId || null);\n    }\n  }\n};\n\nexport default Event;\n","/**\n * get the center by the city name\n * @author kyle / http://nikai.us/\n */\n\nvar citycenter = {municipalities:[{n:\"北京\",g:\"116.395645,39.929986|12\"},{n:\"上海\",g:\"121.487899,31.249162|12\"},{n:\"天津\",g:\"117.210813,39.14393|12\"},{n:\"重庆\",g:\"106.530635,29.544606|12\"}],provinces:[{n:\"安徽\",g:\"117.216005,31.859252|8\",cities:[{n:\"合肥\",g:\"117.282699,31.866942|12\"},{n:\"安庆\",g:\"117.058739,30.537898|13\"},{n:\"蚌埠\",g:\"117.35708,32.929499|13\"},{n:\"亳州\",g:\"115.787928,33.871211|13\"},{n:\"巢湖\",g:\"117.88049,31.608733|13\"},{n:\"池州\",g:\"117.494477,30.660019|14\"},{n:\"滁州\",g:\"118.32457,32.317351|13\"},{n:\"阜阳\",g:\"115.820932,32.901211|13\"},{n:\"淮北\",g:\"116.791447,33.960023|13\"},{n:\"淮南\",g:\"117.018639,32.642812|13\"},{n:\"黄山\",g:\"118.29357,29.734435|13\"},{n:\"六安\",g:\"116.505253,31.755558|13\"},{n:\"马鞍山\",g:\"118.515882,31.688528|13\"},{n:\"宿州\",g:\"116.988692,33.636772|13\"},{n:\"铜陵\",g:\"117.819429,30.94093|14\"},{n:\"芜湖\",g:\"118.384108,31.36602|12\"},{n:\"宣城\",g:\"118.752096,30.951642|13\"}]},{n:\"福建\",g:\"117.984943,26.050118|8\",cities:[{n:\"福州\",g:\"119.330221,26.047125|12\"},{n:\"龙岩\",g:\"117.017997,25.078685|13\"},{n:\"南平\",g:\"118.181883,26.643626|13\"},{n:\"宁德\",g:\"119.542082,26.656527|14\"},{n:\"莆田\",g:\"119.077731,25.44845|13\"},{n:\"泉州\",g:\"118.600362,24.901652|12\"},{n:\"三明\",g:\"117.642194,26.270835|14\"},{n:\"厦门\",g:\"118.103886,24.489231|12\"},{n:\"漳州\",g:\"117.676205,24.517065|12\"}]},{n:\"甘肃\",g:\"102.457625,38.103267|6\",cities:[{n:\"兰州\",g:\"103.823305,36.064226|12\"},{n:\"白银\",g:\"104.171241,36.546682|13\"},{n:\"定西\",g:\"104.626638,35.586056|13\"},{n:\"甘南州\",g:\"102.917442,34.992211|14\"},{n:\"嘉峪关\",g:\"98.281635,39.802397|13\"},{n:\"金昌\",g:\"102.208126,38.516072|13\"},{n:\"酒泉\",g:\"98.508415,39.741474|13\"},{n:\"临夏州\",g:\"103.215249,35.598514|13\"},{n:\"陇南\",g:\"104.934573,33.39448|14\"},{n:\"平凉\",g:\"106.688911,35.55011|13\"},{n:\"庆阳\",g:\"107.644227,35.726801|13\"},{n:\"天水\",g:\"105.736932,34.584319|13\"},{n:\"武威\",g:\"102.640147,37.933172|13\"},{n:\"张掖\",g:\"100.459892,38.93932|13\"}]},{n:\"广东\",g:\"113.394818,23.408004|8\",cities:[{n:\"广州\",g:\"113.30765,23.120049|12\"},{n:\"潮州\",g:\"116.630076,23.661812|13\"},{n:\"东莞\",g:\"113.763434,23.043024|12\"},{n:\"佛山\",g:\"113.134026,23.035095|13\"},{n:\"河源\",g:\"114.713721,23.757251|12\"},{n:\"惠州\",g:\"114.410658,23.11354|12\"},{n:\"江门\",g:\"113.078125,22.575117|13\"},{n:\"揭阳\",g:\"116.379501,23.547999|13\"},{n:\"茂名\",g:\"110.931245,21.668226|13\"},{n:\"梅州\",g:\"116.126403,24.304571|13\"},{n:\"清远\",g:\"113.040773,23.698469|13\"},{n:\"汕头\",g:\"116.72865,23.383908|13\"},{n:\"汕尾\",g:\"115.372924,22.778731|14\"},{n:\"韶关\",g:\"113.594461,24.80296|13\"},{n:\"深圳\",g:\"114.025974,22.546054|12\"},{n:\"阳江\",g:\"111.97701,21.871517|14\"},{n:\"云浮\",g:\"112.050946,22.937976|13\"},{n:\"湛江\",g:\"110.365067,21.257463|13\"},{n:\"肇庆\",g:\"112.479653,23.078663|13\"},{n:\"中山\",g:\"113.42206,22.545178|12\"},{n:\"珠海\",g:\"113.562447,22.256915|13\"}]},{n:\"广西\",g:\"108.924274,23.552255|7\",cities:[{n:\"南宁\",g:\"108.297234,22.806493|12\"},{n:\"百色\",g:\"106.631821,23.901512|13\"},{n:\"北海\",g:\"109.122628,21.472718|13\"},{n:\"崇左\",g:\"107.357322,22.415455|14\"},{n:\"防城港\",g:\"108.351791,21.617398|15\"},{n:\"桂林\",g:\"110.26092,25.262901|12\"},{n:\"贵港\",g:\"109.613708,23.103373|13\"},{n:\"河池\",g:\"108.069948,24.699521|14\"},{n:\"贺州\",g:\"111.552594,24.411054|14\"},{n:\"来宾\",g:\"109.231817,23.741166|14\"},{n:\"柳州\",g:\"109.422402,24.329053|12\"},{n:\"钦州\",g:\"108.638798,21.97335|13\"},{n:\"梧州\",g:\"111.305472,23.485395|13\"},{n:\"玉林\",g:\"110.151676,22.643974|14\"}]},{n:\"贵州\",g:\"106.734996,26.902826|8\",cities:[{n:\"贵阳\",g:\"106.709177,26.629907|12\"},{n:\"安顺\",g:\"105.92827,26.228595|13\"},{n:\"毕节地区\",g:\"105.300492,27.302612|14\"},{n:\"六盘水\",g:\"104.852087,26.591866|13\"},{n:\"铜仁地区\",g:\"109.196161,27.726271|14\"},{n:\"遵义\",g:\"106.93126,27.699961|13\"},{n:\"黔西南州\",g:\"104.900558,25.095148|11\"},{n:\"黔东南州\",g:\"107.985353,26.583992|11\"},{n:\"黔南州\",g:\"107.523205,26.264536|11\"}]},{n:\"海南\",g:\"109.733755,19.180501|9\",cities:[{n:\"海口\",g:\"110.330802,20.022071|13\"},{n:\"白沙\",g:\"109.358586,19.216056|12\"},{n:\"保亭\",g:\"109.656113,18.597592|12\"},{n:\"昌江\",g:\"109.0113,19.222483|12\"},{n:\"儋州\",g:\"109.413973,19.571153|13\"},{n:\"澄迈\",g:\"109.996736,19.693135|13\"},{n:\"东方\",g:\"108.85101,18.998161|13\"},{n:\"定安\",g:\"110.32009,19.490991|13\"},{n:\"琼海\",g:\"110.414359,19.21483|13\"},{n:\"琼中\",g:\"109.861849,19.039771|12\"},{n:\"乐东\",g:\"109.062698,18.658614|12\"},{n:\"临高\",g:\"109.724101,19.805922|13\"},{n:\"陵水\",g:\"109.948661,18.575985|12\"},{n:\"三亚\",g:\"109.522771,18.257776|12\"},{n:\"屯昌\",g:\"110.063364,19.347749|13\"},{n:\"万宁\",g:\"110.292505,18.839886|13\"},{n:\"文昌\",g:\"110.780909,19.750947|13\"},{n:\"五指山\",g:\"109.51775,18.831306|13\"}]},{n:\"河北\",g:\"115.661434,38.61384|7\",cities:[{n:\"石家庄\",g:\"114.522082,38.048958|12\"},{n:\"保定\",g:\"115.49481,38.886565|13\"},{n:\"沧州\",g:\"116.863806,38.297615|13\"},{n:\"承德\",g:\"117.933822,40.992521|14\"},{n:\"邯郸\",g:\"114.482694,36.609308|13\"},{n:\"衡水\",g:\"115.686229,37.746929|13\"},{n:\"廊坊\",g:\"116.703602,39.518611|13\"},{n:\"秦皇岛\",g:\"119.604368,39.945462|12\"},{n:\"唐山\",g:\"118.183451,39.650531|13\"},{n:\"邢台\",g:\"114.520487,37.069531|13\"},{n:\"张家口\",g:\"114.893782,40.811188|13\"}]},{n:\"河南\",g:\"113.486804,34.157184|7\",cities:[{n:\"郑州\",g:\"113.649644,34.75661|12\"},{n:\"安阳\",g:\"114.351807,36.110267|12\"},{n:\"鹤壁\",g:\"114.29777,35.755426|13\"},{n:\"焦作\",g:\"113.211836,35.234608|13\"},{n:\"开封\",g:\"114.351642,34.801854|13\"},{n:\"洛阳\",g:\"112.447525,34.657368|12\"},{n:\"漯河\",g:\"114.046061,33.576279|13\"},{n:\"南阳\",g:\"112.542842,33.01142|13\"},{n:\"平顶山\",g:\"113.300849,33.745301|13\"},{n:\"濮阳\",g:\"115.026627,35.753298|12\"},{n:\"三门峡\",g:\"111.181262,34.78332|13\"},{n:\"商丘\",g:\"115.641886,34.438589|13\"},{n:\"新乡\",g:\"113.91269,35.307258|13\"},{n:\"信阳\",g:\"114.085491,32.128582|13\"},{n:\"许昌\",g:\"113.835312,34.02674|13\"},{n:\"周口\",g:\"114.654102,33.623741|13\"},{n:\"驻马店\",g:\"114.049154,32.983158|13\"}]},{n:\"黑龙江\",g:\"128.047414,47.356592|6\",cities:[{n:\"哈尔滨\",g:\"126.657717,45.773225|12\"},{n:\"大庆\",g:\"125.02184,46.596709|12\"},{n:\"大兴安岭地区\",g:\"124.196104,51.991789|10\"},{n:\"鹤岗\",g:\"130.292472,47.338666|13\"},{n:\"黑河\",g:\"127.50083,50.25069|14\"},{n:\"鸡西\",g:\"130.941767,45.32154|13\"},{n:\"佳木斯\",g:\"130.284735,46.81378|12\"},{n:\"牡丹江\",g:\"129.608035,44.588521|13\"},{n:\"七台河\",g:\"131.019048,45.775005|14\"},{n:\"齐齐哈尔\",g:\"123.987289,47.3477|13\"},{n:\"双鸭山\",g:\"131.171402,46.655102|13\"},{n:\"绥化\",g:\"126.989095,46.646064|13\"},{n:\"伊春\",g:\"128.910766,47.734685|14\"}]},{n:\"湖北\",g:\"112.410562,31.209316|8\",cities:[{n:\"武汉\",g:\"114.3162,30.581084|12\"},{n:\"鄂州\",g:\"114.895594,30.384439|14\"},{n:\"恩施\",g:\"109.517433,30.308978|14\"},{n:\"黄冈\",g:\"114.906618,30.446109|14\"},{n:\"黄石\",g:\"115.050683,30.216127|13\"},{n:\"荆门\",g:\"112.21733,31.042611|13\"},{n:\"荆州\",g:\"112.241866,30.332591|12\"},{n:\"潜江\",g:\"112.768768,30.343116|13\"},{n:\"神农架林区\",g:\"110.487231,31.595768|13\"},{n:\"十堰\",g:\"110.801229,32.636994|13\"},{n:\"随州\",g:\"113.379358,31.717858|13\"},{n:\"天门\",g:\"113.12623,30.649047|13\"},{n:\"仙桃\",g:\"113.387448,30.293966|13\"},{n:\"咸宁\",g:\"114.300061,29.880657|13\"},{n:\"襄阳\",g:\"112.176326,32.094934|12\"},{n:\"孝感\",g:\"113.935734,30.927955|13\"},{n:\"宜昌\",g:\"111.310981,30.732758|13\"}]},{n:\"湖南\",g:\"111.720664,27.695864|7\",cities:[{n:\"长沙\",g:\"112.979353,28.213478|12\"},{n:\"常德\",g:\"111.653718,29.012149|12\"},{n:\"郴州\",g:\"113.037704,25.782264|13\"},{n:\"衡阳\",g:\"112.583819,26.898164|13\"},{n:\"怀化\",g:\"109.986959,27.557483|13\"},{n:\"娄底\",g:\"111.996396,27.741073|13\"},{n:\"邵阳\",g:\"111.461525,27.236811|13\"},{n:\"湘潭\",g:\"112.935556,27.835095|13\"},{n:\"湘西州\",g:\"109.745746,28.317951|14\"},{n:\"益阳\",g:\"112.366547,28.588088|13\"},{n:\"永州\",g:\"111.614648,26.435972|13\"},{n:\"岳阳\",g:\"113.146196,29.378007|13\"},{n:\"张家界\",g:\"110.48162,29.124889|13\"},{n:\"株洲\",g:\"113.131695,27.827433|13\"}]},{n:\"江苏\",g:\"119.368489,33.013797|8\",cities:[{n:\"南京\",g:\"118.778074,32.057236|12\"},{n:\"常州\",g:\"119.981861,31.771397|12\"},{n:\"淮安\",g:\"119.030186,33.606513|12\"},{n:\"连云港\",g:\"119.173872,34.601549|12\"},{n:\"南通\",g:\"120.873801,32.014665|12\"},{n:\"苏州\",g:\"120.619907,31.317987|12\"},{n:\"宿迁\",g:\"118.296893,33.95205|13\"},{n:\"泰州\",g:\"119.919606,32.476053|13\"},{n:\"无锡\",g:\"120.305456,31.570037|12\"},{n:\"徐州\",g:\"117.188107,34.271553|12\"},{n:\"盐城\",g:\"120.148872,33.379862|12\"},{n:\"扬州\",g:\"119.427778,32.408505|13\"},{n:\"镇江\",g:\"119.455835,32.204409|13\"}]},{n:\"江西\",g:\"115.676082,27.757258|7\",cities:[{n:\"南昌\",g:\"115.893528,28.689578|12\"},{n:\"抚州\",g:\"116.360919,27.954545|13\"},{n:\"赣州\",g:\"114.935909,25.845296|13\"},{n:\"吉安\",g:\"114.992039,27.113848|13\"},{n:\"景德镇\",g:\"117.186523,29.303563|12\"},{n:\"九江\",g:\"115.999848,29.71964|13\"},{n:\"萍乡\",g:\"113.859917,27.639544|13\"},{n:\"上饶\",g:\"117.955464,28.457623|13\"},{n:\"新余\",g:\"114.947117,27.822322|13\"},{n:\"宜春\",g:\"114.400039,27.81113|13\"},{n:\"鹰潭\",g:\"117.03545,28.24131|13\"}]},{n:\"吉林\",g:\"126.262876,43.678846|7\",cities:[{n:\"长春\",g:\"125.313642,43.898338|12\"},{n:\"白城\",g:\"122.840777,45.621086|13\"},{n:\"白山\",g:\"126.435798,41.945859|13\"},{n:\"吉林\",g:\"126.564544,43.871988|12\"},{n:\"辽源\",g:\"125.133686,42.923303|13\"},{n:\"四平\",g:\"124.391382,43.175525|12\"},{n:\"松原\",g:\"124.832995,45.136049|13\"},{n:\"通化\",g:\"125.94265,41.736397|13\"},{n:\"延边\",g:\"129.485902,42.896414|13\"}]},{n:\"辽宁\",g:\"122.753592,41.6216|8\",cities:[{n:\"沈阳\",g:\"123.432791,41.808645|12\"},{n:\"鞍山\",g:\"123.007763,41.118744|13\"},{n:\"本溪\",g:\"123.778062,41.325838|12\"},{n:\"朝阳\",g:\"120.446163,41.571828|13\"},{n:\"大连\",g:\"121.593478,38.94871|12\"},{n:\"丹东\",g:\"124.338543,40.129023|12\"},{n:\"抚顺\",g:\"123.92982,41.877304|12\"},{n:\"阜新\",g:\"121.660822,42.01925|14\"},{n:\"葫芦岛\",g:\"120.860758,40.74303|13\"},{n:\"锦州\",g:\"121.147749,41.130879|13\"},{n:\"辽阳\",g:\"123.172451,41.273339|14\"},{n:\"盘锦\",g:\"122.073228,41.141248|13\"},{n:\"铁岭\",g:\"123.85485,42.299757|13\"},{n:\"营口\",g:\"122.233391,40.668651|13\"}]},{n:\"内蒙古\",g:\"114.415868,43.468238|5\",cities:[{n:\"呼和浩特\",g:\"111.660351,40.828319|12\"},{n:\"阿拉善盟\",g:\"105.695683,38.843075|14\"},{n:\"包头\",g:\"109.846239,40.647119|12\"},{n:\"巴彦淖尔\",g:\"107.423807,40.76918|12\"},{n:\"赤峰\",g:\"118.930761,42.297112|12\"},{n:\"鄂尔多斯\",g:\"109.993706,39.81649|12\"},{n:\"呼伦贝尔\",g:\"119.760822,49.201636|12\"},{n:\"通辽\",g:\"122.260363,43.633756|12\"},{n:\"乌海\",g:\"106.831999,39.683177|13\"},{n:\"乌兰察布\",g:\"113.112846,41.022363|12\"},{n:\"锡林郭勒盟\",g:\"116.02734,43.939705|11\"},{n:\"兴安盟\",g:\"122.048167,46.083757|11\"}]},{n:\"宁夏\",g:\"106.155481,37.321323|8\",cities:[{n:\"银川\",g:\"106.206479,38.502621|12\"},{n:\"固原\",g:\"106.285268,36.021523|13\"},{n:\"石嘴山\",g:\"106.379337,39.020223|13\"},{n:\"吴忠\",g:\"106.208254,37.993561|14\"},{n:\"中卫\",g:\"105.196754,37.521124|14\"}]},{n:\"青海\",g:\"96.202544,35.499761|7\",cities:[{n:\"西宁\",g:\"101.767921,36.640739|12\"},{n:\"果洛州\",g:\"100.223723,34.480485|11\"},{n:\"海东地区\",g:\"102.085207,36.51761|11\"},{n:\"海北州\",g:\"100.879802,36.960654|11\"},{n:\"海南州\",g:\"100.624066,36.284364|11\"},{n:\"海西州\",g:\"97.342625,37.373799|11\"},{n:\"黄南州\",g:\"102.0076,35.522852|11\"},{n:\"玉树州\",g:\"97.013316,33.00624|14\"}]},{n:\"山东\",g:\"118.527663,36.09929|8\",cities:[{n:\"济南\",g:\"117.024967,36.682785|12\"},{n:\"滨州\",g:\"117.968292,37.405314|12\"},{n:\"东营\",g:\"118.583926,37.487121|12\"},{n:\"德州\",g:\"116.328161,37.460826|12\"},{n:\"菏泽\",g:\"115.46336,35.26244|13\"},{n:\"济宁\",g:\"116.600798,35.402122|13\"},{n:\"莱芜\",g:\"117.684667,36.233654|13\"},{n:\"聊城\",g:\"115.986869,36.455829|12\"},{n:\"临沂\",g:\"118.340768,35.072409|12\"},{n:\"青岛\",g:\"120.384428,36.105215|12\"},{n:\"日照\",g:\"119.50718,35.420225|12\"},{n:\"泰安\",g:\"117.089415,36.188078|13\"},{n:\"威海\",g:\"122.093958,37.528787|13\"},{n:\"潍坊\",g:\"119.142634,36.716115|12\"},{n:\"烟台\",g:\"121.309555,37.536562|12\"},{n:\"枣庄\",g:\"117.279305,34.807883|13\"},{n:\"淄博\",g:\"118.059134,36.804685|12\"}]},{n:\"山西\",g:\"112.515496,37.866566|7\",cities:[{n:\"太原\",g:\"112.550864,37.890277|12\"},{n:\"长治\",g:\"113.120292,36.201664|12\"},{n:\"大同\",g:\"113.290509,40.113744|12\"},{n:\"晋城\",g:\"112.867333,35.499834|13\"},{n:\"晋中\",g:\"112.738514,37.693362|13\"},{n:\"临汾\",g:\"111.538788,36.099745|13\"},{n:\"吕梁\",g:\"111.143157,37.527316|14\"},{n:\"朔州\",g:\"112.479928,39.337672|13\"},{n:\"忻州\",g:\"112.727939,38.461031|12\"},{n:\"阳泉\",g:\"113.569238,37.869529|13\"},{n:\"运城\",g:\"111.006854,35.038859|13\"}]},{n:\"陕西\",g:\"109.503789,35.860026|7\",cities:[{n:\"西安\",g:\"108.953098,34.2778|12\"},{n:\"安康\",g:\"109.038045,32.70437|13\"},{n:\"宝鸡\",g:\"107.170645,34.364081|12\"},{n:\"汉中\",g:\"107.045478,33.081569|13\"},{n:\"商洛\",g:\"109.934208,33.873907|13\"},{n:\"铜川\",g:\"108.968067,34.908368|13\"},{n:\"渭南\",g:\"109.483933,34.502358|13\"},{n:\"咸阳\",g:\"108.707509,34.345373|13\"},{n:\"延安\",g:\"109.50051,36.60332|13\"},{n:\"榆林\",g:\"109.745926,38.279439|12\"}]},{n:\"四川\",g:\"102.89916,30.367481|7\",cities:[{n:\"成都\",g:\"104.067923,30.679943|12\"},{n:\"阿坝州\",g:\"102.228565,31.905763|15\"},{n:\"巴中\",g:\"106.757916,31.869189|14\"},{n:\"达州\",g:\"107.494973,31.214199|14\"},{n:\"德阳\",g:\"104.402398,31.13114|13\"},{n:\"甘孜州\",g:\"101.969232,30.055144|15\"},{n:\"广安\",g:\"106.63572,30.463984|13\"},{n:\"广元\",g:\"105.819687,32.44104|13\"},{n:\"乐山\",g:\"103.760824,29.600958|13\"},{n:\"凉山州\",g:\"102.259591,27.892393|14\"},{n:\"泸州\",g:\"105.44397,28.89593|14\"},{n:\"南充\",g:\"106.105554,30.800965|13\"},{n:\"眉山\",g:\"103.84143,30.061115|13\"},{n:\"绵阳\",g:\"104.705519,31.504701|12\"},{n:\"内江\",g:\"105.073056,29.599462|13\"},{n:\"攀枝花\",g:\"101.722423,26.587571|14\"},{n:\"遂宁\",g:\"105.564888,30.557491|12\"},{n:\"雅安\",g:\"103.009356,29.999716|13\"},{n:\"宜宾\",g:\"104.633019,28.769675|13\"},{n:\"资阳\",g:\"104.63593,30.132191|13\"},{n:\"自贡\",g:\"104.776071,29.359157|13\"}]},{n:\"西藏\",g:\"89.137982,31.367315|6\",cities:[{n:\"拉萨\",g:\"91.111891,29.662557|13\"},{n:\"阿里地区\",g:\"81.107669,30.404557|11\"},{n:\"昌都地区\",g:\"97.185582,31.140576|15\"},{n:\"林芝地区\",g:\"94.349985,29.666941|11\"},{n:\"那曲地区\",g:\"92.067018,31.48068|14\"},{n:\"日喀则地区\",g:\"88.891486,29.269023|14\"},{n:\"山南地区\",g:\"91.750644,29.229027|11\"}]},{n:\"新疆\",g:\"85.614899,42.127001|6\",cities:[{n:\"乌鲁木齐\",g:\"87.564988,43.84038|12\"},{n:\"阿拉尔\",g:\"81.291737,40.61568|13\"},{n:\"阿克苏地区\",g:\"80.269846,41.171731|12\"},{n:\"阿勒泰地区\",g:\"88.137915,47.839744|13\"},{n:\"巴音郭楞\",g:\"86.121688,41.771362|12\"},{n:\"博尔塔拉州\",g:\"82.052436,44.913651|11\"},{n:\"昌吉州\",g:\"87.296038,44.007058|13\"},{n:\"哈密地区\",g:\"93.528355,42.858596|13\"},{n:\"和田地区\",g:\"79.930239,37.116774|13\"},{n:\"喀什地区\",g:\"75.992973,39.470627|12\"},{n:\"克拉玛依\",g:\"84.88118,45.594331|13\"},{n:\"克孜勒苏州\",g:\"76.137564,39.750346|11\"},{n:\"石河子\",g:\"86.041865,44.308259|13\"},{n:\"塔城地区\",g:\"82.974881,46.758684|12\"},{n:\"图木舒克\",g:\"79.198155,39.889223|13\"},{n:\"吐鲁番地区\",g:\"89.181595,42.96047|13\"},{n:\"五家渠\",g:\"87.565449,44.368899|13\"},{n:\"伊犁州\",g:\"81.297854,43.922248|11\"}]},{n:\"云南\",g:\"101.592952,24.864213|7\",cities:[{n:\"昆明\",g:\"102.714601,25.049153|12\"},{n:\"保山\",g:\"99.177996,25.120489|13\"},{n:\"楚雄州\",g:\"101.529382,25.066356|13\"},{n:\"大理州\",g:\"100.223675,25.5969|14\"},{n:\"德宏州\",g:\"98.589434,24.44124|14\"},{n:\"迪庆州\",g:\"99.713682,27.831029|14\"},{n:\"红河州\",g:\"103.384065,23.367718|11\"},{n:\"丽江\",g:\"100.229628,26.875351|13\"},{n:\"临沧\",g:\"100.092613,23.887806|14\"},{n:\"怒江州\",g:\"98.859932,25.860677|14\"},{n:\"普洱\",g:\"100.980058,22.788778|14\"},{n:\"曲靖\",g:\"103.782539,25.520758|12\"},{n:\"昭通\",g:\"103.725021,27.340633|13\"},{n:\"文山\",g:\"104.089112,23.401781|14\"},{n:\"西双版纳\",g:\"100.803038,22.009433|13\"},{n:\"玉溪\",g:\"102.545068,24.370447|13\"}]},{n:\"浙江\",g:\"119.957202,29.159494|8\",cities:[{n:\"杭州\",g:\"120.219375,30.259244|12\"},{n:\"湖州\",g:\"120.137243,30.877925|12\"},{n:\"嘉兴\",g:\"120.760428,30.773992|13\"},{n:\"金华\",g:\"119.652576,29.102899|12\"},{n:\"丽水\",g:\"119.929576,28.4563|13\"},{n:\"宁波\",g:\"121.579006,29.885259|12\"},{n:\"衢州\",g:\"118.875842,28.95691|12\"},{n:\"绍兴\",g:\"120.592467,30.002365|13\"},{n:\"台州\",g:\"121.440613,28.668283|13\"},{n:\"温州\",g:\"120.690635,28.002838|12\"},{n:\"舟山\",g:\"122.169872,30.03601|13\"}]}],other:[{n:\"香港\",g:\"114.186124,22.293586|11\"},{n:\"澳门\",g:\"113.557519,22.204118|13\"},{n:\"台湾\",g:\"120.961454,23.80406|8\"}]};\n\nfunction getCenter(g) {\n    var item = g.split(\"|\");\n    item[0] = item[0].split(\",\");\n    return {\n        lng: parseFloat(item[0][0]),\n        lat: parseFloat(item[0][1])\n    }\n}\n\nexport default {\n    getProvinceNameByCityName: function(name) {\n        var provinces  = citycenter.provinces;\n        for (var i = 0; i < provinces.length; i++) {\n            var provinceName = provinces[i].n;\n            var cities = provinces[i].cities;\n            for (var j = 0; j < cities.length; j++) {\n                if (cities[j].n == name) {\n                    return provinceName;\n                }\n            }\n        }\n        return null;\n    },\n    getCenterByCityName: function(name) {\n        name = name.replace('市', '');\n        for (var i = 0; i < citycenter.municipalities.length; i++) {\n            if (citycenter.municipalities[i].n == name) {\n                return getCenter(citycenter.municipalities[i].g);\n            }\n        }\n\n        for (var i = 0; i < citycenter.other.length; i++) {\n            if (citycenter.other[i].n == name) {\n                return getCenter(citycenter.other[i].g);\n            }\n        }\n\n        var provinces  = citycenter.provinces;\n        for (var i = 0; i < provinces.length; i++) {\n            if (provinces[i].n == name) {\n                return getCenter(provinces[i].g);\n            }\n            var cities = provinces[i].cities;\n            for (var j = 0; j < cities.length; j++) {\n                if (cities[j].n == name) {\n                    return getCenter(cities[j].g);\n                }\n            }\n        }\n        return null;\n    }\n}\n","/**\n * @author kyle / http://nikai.us/\n */\n\nimport Event from \"../utils/Event\";\nimport cityCenter from \"../utils/cityCenter\";\n\n/**\n * DataSet\n *\n * A data set can:\n * - add/remove/update data\n * - gives triggers upon changes in the data\n * - can  import/export data in various data formats\n * @param {Array} [data]    Optional array with initial data\n * the field geometry is like geojson, it can be:\n * {\n *     \"type\": \"Point\",\n *     \"coordinates\": [125.6, 10.1]\n * }\n * {\n *     \"type\": \"LineString\",\n *     \"coordinates\": [\n *         [102.0, 0.0], [103.0, 1.0], [104.0, 0.0], [105.0, 1.0]\n *     ]\n * }\n * {\n *     \"type\": \"Polygon\",\n *     \"coordinates\": [\n *         [ [100.0, 0.0], [101.0, 0.0], [101.0, 1.0],\n *           [100.0, 1.0], [100.0, 0.0] ]\n *     ]\n * }\n * @param {Object} [options]   Available options:\n * \n */\nfunction DataSet(data, options) {\n    Event.bind(this)();\n\n    this._options = options || {};\n    this._data = []; // map with data indexed by id\n\n    // add initial data when provided\n    if (data) {\n        this.add(data);\n    }\n\n}\n\nDataSet.prototype = Event.prototype;\n\n/**\n * Add data.\n */\nDataSet.prototype.add = function (data, senderId) {\n    if (Array.isArray(data)) {\n        // Array\n        for (var i = 0, len = data.length; i < len; i++) {\n            if (data[i].time && data[i].time.length == 14 && data[i].time.substr(0, 2) == '20') {\n                var time = data[i].time;\n                data[i].time = new Date(time.substr(0, 4) + '-' + time.substr(4, 2) + '-' + time.substr(6, 2) + ' ' + time.substr(8, 2) + ':' + time.substr(10, 2) + ':' + time.substr(12, 2)).getTime();\n            }\n            this._data.push(data[i]);\n        }\n    } else if (data instanceof Object) {\n        // Single item\n        this._data.push(data);\n    } else {\n        throw new Error('Unknown dataType');\n    }\n\n    this._dataCache = JSON.parse(JSON.stringify(this._data));\n};\n\nDataSet.prototype.reset = function () {\n    this._data = JSON.parse(JSON.stringify(this._dataCache));\n}\n\n/**\n * get data.\n */\nDataSet.prototype.get = function (args) {\n    args = args || {};\n\n    //console.time('copy data time')\n    var start = new Date();\n    // TODO: 不修改原始数据，在数据上挂载新的名称，每次修改数据直接修改新名称下的数据，可以省去deepCopy\n    // var data = deepCopy(this._data);\n    var data = this._data;\n\n    var start = new Date();\n\n    if (args.filter) {\n        var newData = [];\n        for (var i = 0; i < data.length; i++) {\n            if (args.filter(data[i])) {\n                newData.push(data[i]);\n            }\n        }\n        data = newData;\n    }\n\n    if (args.transferCoordinate) {\n        data = this.transferCoordinate(data, args.transferCoordinate, args.fromColumn, args.toColumn);\n    }\n\n    // console.timeEnd('transferCoordinate time')\n\n    return data;\n\n};\n\n/**\n * set data.\n */\nDataSet.prototype.set = function (data) {\n    this._set(data);\n    this._trigger('change');\n}\n\n/**\n * set data.\n */\nDataSet.prototype._set = function (data) {\n    this.clear();\n    this.add(data);\n}\n\n/**\n * clear data.\n */\nDataSet.prototype.clear = function (args) {\n    this._data = []; // map with data indexed by id\n}\n\n/**\n * remove data.\n */\nDataSet.prototype.remove = function (args) {};\n\n/**\n * update data.\n */\nDataSet.prototype.update = function (cbk, condition) {\n\n    var data = this._data;\n\n    var item = null;\n    for (var i = 0; i < data.length; i++) {\n        if (condition) {\n            var flag = true;\n            for (var key in condition) {\n                if (data[i][key] != condition[key]) {\n                    flag = false;\n                }\n            }\n            if (flag) {\n                cbk && cbk(data[i]);\n            }\n        } else {\n            cbk && cbk(data[i]);\n        }\n    }\n\n    this._dataCache = JSON.parse(JSON.stringify(this._data));\n\n    this._trigger('change');\n};\n\n/**\n * transfer coordinate.\n */\nDataSet.prototype.transferCoordinate = function (data, transferFn, fromColumn, toColumnName) {\n\n    toColumnName = toColumnName || '_coordinates';\n    fromColumn = fromColumn || 'coordinates';\n\n    for (var i = 0; i < data.length; i++) {\n\n        var geometry = data[i].geometry;\n        var coordinates = geometry[fromColumn];\n        switch (geometry.type) {\n            case 'Point':\n                geometry[toColumnName] = transferFn(coordinates);\n                break;\n            case 'LineString':\n                var newCoordinates = [];\n                for (var j = 0; j < coordinates.length; j++) {\n                    newCoordinates.push(transferFn(coordinates[j]));\n                }\n                geometry[toColumnName] = newCoordinates;\n                break;\n            case 'MultiLineString':\n            case 'Polygon':\n                var newCoordinates = getPolygon(coordinates);\n                geometry[toColumnName] = newCoordinates;\n                break;\n            case 'MultiPolygon':\n                var newCoordinates = [];\n                for (var c = 0; c < coordinates.length; c++) {\n                    var polygon = coordinates[c];\n                    var polygon = getPolygon(polygon);\n                    newCoordinates.push(polygon);\n                }\n\n                geometry[toColumnName] = newCoordinates;\n                break;\n        }\n\n    }\n\n    function getPolygon(coordinates) {\n        var newCoordinates = [];\n        for (var c = 0; c < coordinates.length; c++) {\n            var coordinate = coordinates[c];\n            var newcoordinate = [];\n            for (var j = 0; j < coordinate.length; j++) {\n                newcoordinate.push(transferFn(coordinate[j]));\n            }\n            newCoordinates.push(newcoordinate);\n        }\n        return newCoordinates;\n    }\n\n    return data;\n};\n\nDataSet.prototype.initGeometry = function (transferFn) {\n\n    if (transferFn) {\n\n        this._data.forEach(function (item) {\n            item.geometry = transferFn(item);\n        });\n\n    } else {\n\n        this._data.forEach(function (item) {\n            if (!item.geometry) {\n                if (item.lng && item.lat) {\n                    item.geometry = {\n                        type: 'Point',\n                        coordinates: [item.lng, item.lat]\n                    }\n                } else if (item.city) {\n                    var center = cityCenter.getCenterByCityName(item.city);\n                    if (center) {\n                        item.geometry = {\n                            type: 'Point',\n                            coordinates: [center.lng, center.lat]\n                        }\n                    }\n                }\n            }\n        });\n    }\n\n}\n\n/**\n * 获取当前列的最大值\n */\nDataSet.prototype.getMax = function (columnName) {\n    var data = this._data;\n\n    if (!data || data.length <= 0) {\n        return;\n    }\n\n    var max = parseFloat(data[0][columnName]);\n\n    for (var i = 1; i < data.length; i++) {\n        var value = parseFloat(data[i][columnName]);\n        if (value > max) {\n            max = value;\n        }\n    }\n\n    return max;\n}\n\n/**\n * 获取当前列的总和\n */\nDataSet.prototype.getSum = function (columnName) {\n    var data = this._data;\n\n    if (!data || data.length <= 0) {\n        return;\n    }\n\n    var sum = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        if (data[i][columnName]) {\n            sum += parseFloat(data[i][columnName]);\n        }\n    }\n\n    return sum;\n}\n\n/**\n * 获取当前列的最小值\n */\nDataSet.prototype.getMin = function (columnName) {\n    var data = this._data;\n\n    if (!data || data.length <= 0) {\n        return;\n    }\n\n    var min = parseFloat(data[0][columnName]);\n\n    for (var i = 1; i < data.length; i++) {\n        var value = parseFloat(data[i][columnName]);\n        if (value < min) {\n            min = value;\n        }\n    }\n\n    return min;\n}\n\n/**\n * 获取去重的数据\n */\nDataSet.prototype.getUnique = function (columnName) {\n    var data = this._data;\n\n    if (!data || data.length <= 0) {\n        return;\n    }\n\n    var maps = {};\n\n    for (var i = 1; i < data.length; i++) {\n        maps[data[i][columnName]] = true;\n    }\n\n    var data = [];\n    for (var key in maps) {\n        data.push(key);\n    }\n\n    return data;\n}\n\nfunction deepCopy(obj) {\n    var newObj;\n    if (typeof obj == 'object') {\n        newObj = obj instanceof Array ? [] : {};\n        for (var i in obj) {\n            newObj[i] = obj[i] instanceof HTMLElement ? obj[i] : deepCopy(obj[i]);\n        }\n    } else {\n        newObj = obj\n    }\n    return newObj;\n}\n\nexport default DataSet;\n","function hex_corner(center, size, i) {\n    var angle_deg = 60 * i + 30;\n    var angle_rad = Math.PI / 180 * angle_deg;\n    return [center.x + size * Math.cos(angle_rad), center.y + size * Math.sin(angle_rad)];\n}\n\nfunction draw(context, x, y, size) {\n\n    for (var j = 0; j < 6; j++) {\n\n        var result = hex_corner({\n            x: x,\n            y: y\n        }, size, j);\n\n        context.lineTo(result[0], result[1]);\n    }\n\n}\n\nexport {draw};\n","/**\n * @author kyle / http://nikai.us/\n */\n\nimport DataSet from \"../../data/DataSet\";\nimport {draw as drawHoneycomb} from \"../shape/honeycomb\";\n\nexport default {\n    drawDataSet: function (context, dataSet, options) {\n\n        var data = dataSet instanceof DataSet ? dataSet.get() : dataSet;\n\n        for (var i = 0, len = data.length; i < len; i++) {\n            var item = data[i];\n            this.draw(context, item, options);\n        }\n\n    },\n    draw: function (context, data, options) {\n        var type = data.geometry.type;\n        var coordinates = data.geometry._coordinates || data.geometry.coordinates;\n        var symbol = options.symbol || 'circle';\n        switch (type) {\n            case 'Point':\n                var size = data._size || data.size || options._size || options.size || 5;\n                if (symbol === 'circle') {\n                    if (options.bigData === 'Point') {\n                        context.moveTo(coordinates[0], coordinates[1]);\n                    }\n                    context.arc(coordinates[0], coordinates[1], size, 0, Math.PI * 2);\n                } else if (symbol === 'rect') {\n                    context.rect(coordinates[0] - size / 2, coordinates[1] - size / 2, size, size);\n                } else if (symbol === 'honeycomb') {\n                    drawHoneycomb(context, coordinates[0], coordinates[1], size);\n                }\n                break;\n            case 'LineString':\n                this.drawLineString(context, coordinates);\n                break;\n            case 'MultiLineString':\n                for (var i = 0; i < coordinates.length; i++) {\n                    var lineString = coordinates[i];\n                    this.drawLineString(context, lineString);\n                }\n                break;\n            case 'Polygon':\n                this.drawPolygon(context, coordinates);\n                break;\n            case 'MultiPolygon':\n                for (var i = 0; i < coordinates.length; i++) {\n                    var polygon = coordinates[i];\n                    this.drawPolygon(context, polygon);\n                    if (options.multiPolygonDraw) {\n                        options.multiPolygonDraw();\n                    }\n                }\n                break;\n            default:\n                console.log('type' + type + 'is not support now!');\n                break;\n        }\n    },\n\n    drawLineString: function(context, coordinates) {\n        for (var j = 0; j < coordinates.length; j++) {\n            var x = coordinates[j][0];\n            var y = coordinates[j][1];\n            if (j == 0) {\n                context.moveTo(x, y);\n            } else {\n                context.lineTo(x, y);\n            }\n        }\n    },\n\n    drawPolygon: function(context, coordinates) {\n        context.beginPath();\n\n        for (var i = 0; i < coordinates.length; i++) {\n            var coordinate = coordinates[i];\n\n            context.moveTo(coordinate[0][0], coordinate[0][1]);\n            for (var j = 1; j < coordinate.length; j++) {\n                context.lineTo(coordinate[j][0], coordinate[j][1]);\n            }\n            context.lineTo(coordinate[0][0], coordinate[0][1]);\n            context.closePath();\n        }\n\n    }\n\n}\n","/**\n * @author kyle / http://nikai.us/\n */\n\nimport pathSimple from \"../path/simple\";\nimport DataSet from \"../../data/DataSet\";\n\nexport default {\n    draw: function (context, dataSet, options) {\n        \n        var data = dataSet instanceof DataSet ? dataSet.get() : dataSet;\n\n        // console.log('xxxx',options)\n        context.save();\n\n        for (var key in options) {\n            context[key] = options[key];\n        }\n\n\n        // console.log(data);\n        if (options.bigData) {\n            context.save();\n            context.beginPath();\n\n            for (var i = 0, len = data.length; i < len; i++) {\n\n                var item = data[i];\n\n                pathSimple.draw(context, item, options);\n\n            };\n\n            var type = options.bigData;\n\n            if (type == 'Point' || type == 'Polygon' || type == 'MultiPolygon') {\n\n                context.fill();\n                \n                if (context.lineDash) {\n                    context.setLineDash(context.lineDash);\n                }\n                \n                if (item.lineDash) {\n                    context.setLineDash(item.lineDash);\n                }\n\n                if ((item.strokeStyle || options.strokeStyle) && options.lineWidth) {\n                    context.stroke();\n                }\n\n            } else if (type == 'LineString' || type == 'MultiLineString') {\n                context.stroke();\n            }\n\n            context.restore();\n        } else {\n\n            for (var i = 0, len = data.length; i < len; i++) {\n\n                var item = data[i];\n\n                context.save();\n\n                if (item.fillStyle || item._fillStyle) {\n                    context.fillStyle = item.fillStyle || item._fillStyle;\n                }\n\n                if (item.strokeStyle || item._strokeStyle) {\n                    context.strokeStyle = item.strokeStyle || item._strokeStyle;\n                }\n\n                if (context.lineDash) {\n                    context.setLineDash(context.lineDash);\n                }\n                \n                if (item.lineDash) {\n                    context.setLineDash(item.lineDash);\n                }\n\n                var type = item.geometry.type;\n\n                context.beginPath();\n\n                pathSimple.draw(context, item, options);\n                options.multiPolygonDraw = function() {\n                    context.fill();\n\n                    if ((item.strokeStyle || options.strokeStyle) && options.lineWidth) {\n                        context.stroke();\n                    }\n                }\n\n                if (type == 'Point' || type == 'Polygon' || type == 'MultiPolygon') {\n\n                    context.fill();\n\n                    if ((item.strokeStyle || options.strokeStyle) && options.lineWidth) {\n                        context.stroke();\n                    }\n\n                } else if (type == 'LineString' || type == 'MultiLineString') {\n                    if (item.lineWidth || item._lineWidth) {\n                        context.lineWidth = item.lineWidth || item._lineWidth;\n                    }\n                    context.stroke();\n                }\n\n                context.restore();\n\n            };\n        }\n\n        context.restore();\n\n    }\n}\n","\nfunction Canvas(width, height) {\n\n    var canvas;\n\n    if (typeof document === 'undefined') {\n\n        // var Canvas = require('canvas');\n        // canvas = new Canvas(width, height);\n\n    } else {\n\n        var canvas= document.createElement('canvas');\n\n        if (width) {\n            canvas.width = width;\n        }\n\n        if (height) {\n            canvas.height = height;\n        }\n\n    }\n\n    return canvas;\n}\n\nexport default Canvas;\n","/**\n * @author kyle / http://nikai.us/\n */\n\nimport Canvas from \"../Canvas\";\n\n/**\n * Category\n * @param {Object} [options]   Available options:\n *                             {Object} gradient: { 0.25: \"rgb(0,0,255)\", 0.55: \"rgb(0,255,0)\", 0.85: \"yellow\", 1.0: \"rgb(255,0,0)\"}\n */\nfunction Intensity(options) {\n\n    options = options || {};\n    this.gradient = options.gradient || { \n        0.25: \"rgba(0, 0, 255, 1)\",\n        0.55: \"rgba(0, 255, 0, 1)\",\n        0.85: \"rgba(255, 255, 0, 1)\",\n        1.0: \"rgba(255, 0, 0, 1)\"\n    };\n    this.maxSize = options.maxSize || 35;\n    this.minSize = options.minSize || 0;\n    this.max = options.max || 100;\n    this.min = options.min || 0;\n    this.initPalette();\n}\n\nIntensity.prototype.setMax = function (value) {\n    this.max = value || 100;\n}\n\nIntensity.prototype.setMin = function (value) {\n    this.min = value || 0;\n}\n\nIntensity.prototype.setMaxSize = function (maxSize) {\n    this.maxSize = maxSize || 35;\n}\n\nIntensity.prototype.setMinSize = function (minSize) {\n    this.minSize = minSize || 0;\n}\n\nIntensity.prototype.initPalette = function () {\n\n    var gradient = this.gradient;\n\n    var canvas = new Canvas(256, 1);\n\n    var paletteCtx = this.paletteCtx = canvas.getContext('2d');\n\n    var lineGradient = paletteCtx.createLinearGradient(0, 0, 256, 1);\n\n    for (var key in gradient) {\n        lineGradient.addColorStop(parseFloat(key), gradient[key]);\n    }\n\n    paletteCtx.fillStyle = lineGradient;\n    paletteCtx.fillRect(0, 0, 256, 1);\n\n}\n\nIntensity.prototype.getColor = function (value) {\n\n    var imageData = this.getImageData(value);\n\n    return \"rgba(\" + imageData[0] + \", \" + imageData[1] + \", \" + imageData[2] + \", \" + imageData[3] / 256 + \")\";\n\n}\n\nIntensity.prototype.getImageData = function (value) {\n\n    var imageData = this.paletteCtx.getImageData(0, 0, 256, 1).data;\n\n    if (value === undefined) {\n        return imageData;\n    }\n\n    var max = this.max;\n    var min = this.min;\n\n    if (value > max) {\n        value = max;\n    }\n\n    if (value < min) {\n        value = min;\n    }\n\n    var index = Math.floor((value - min) / (max - min) * (256 - 1)) * 4;\n\n    return [imageData[index], imageData[index + 1], imageData[index + 2], imageData[index + 3]];\n}\n\n/**\n * @param Number value \n * @param Number max of value\n * @param Number max of size\n * @param Object other options\n */\nIntensity.prototype.getSize = function (value) {\n\n    var size = 0;\n    var max = this.max;\n    var min = this.min;\n    var maxSize = this.maxSize;\n    var minSize = this.minSize;\n\n    if (value > max) {\n        value = max;\n    }\n\n    if (value < min) {\n        value = min;\n    }\n\n    size = minSize + (value - min) / (max - min) * (maxSize - minSize);\n\n    return size;\n\n}\n\nIntensity.prototype.getLegend = function (options) {\n    var gradient = this.gradient;\n\n\n    var width = options.width || 20;\n    var height = options.height || 180;\n\n    var canvas = new Canvas(width, height);\n\n    var paletteCtx = canvas.getContext('2d');\n\n    var lineGradient = paletteCtx.createLinearGradient(0, height, 0, 0);\n\n    for (var key in gradient) {\n        lineGradient.addColorStop(parseFloat(key), gradient[key]);\n    }\n\n    paletteCtx.fillStyle = lineGradient;\n    paletteCtx.fillRect(0, 0, width, height);\n\n    return canvas;\n}\n\n\nexport default Intensity;\n","var global = typeof window === 'undefined' ? {} : window;\n\nvar devicePixelRatio = global.devicePixelRatio || 1;\n\nexport {devicePixelRatio};\nexport {global as window};\nexport default global;\n","/**\n * @author kyle / http://nikai.us/\n */\n\nimport Intensity from \"../../utils/data-range/Intensity\";\nimport pathSimple from \"../path/simple\";\nimport Canvas from \"../../utils/Canvas\";\nimport DataSet from \"../../data/DataSet\";\nimport {devicePixelRatio} from \"../../utils/window\";\n\nfunction createCircle(size) {\n\n    var shadowBlur = size / 2;\n    var r2 = size + shadowBlur;\n    var offsetDistance = 10000;\n\n    var circle = new Canvas(r2 * 2, r2 * 2);\n    var context = circle.getContext('2d');\n\n    context.shadowBlur = shadowBlur;\n    context.shadowColor = 'black';\n    context.shadowOffsetX = context.shadowOffsetY = offsetDistance;\n\n    context.beginPath();\n    context.arc(r2 - offsetDistance, r2 - offsetDistance, size, 0, Math.PI * 2, true);\n    context.closePath();\n    context.fill();\n    return circle;\n}\n\nfunction colorize(pixels, gradient, options) {\n    var max = getMax(options);\n    var min = getMin(options);\n    var diff = max - min;\n    var range = options.range || null;\n\n    var jMin = 0;\n    var jMax = 1024;\n    if (range && range.length === 2) {\n        jMin = (range[0] - min) / diff * 1024;\n    }\n\n    if (range && range.length === 2) {\n        jMax = (range[1] - min) / diff * 1024;\n    }\n\n    var maxOpacity = options.maxOpacity || 0.8;\n    var range = options.range;\n\n    for (var i = 3, len = pixels.length, j; i < len; i += 4) {\n        j = pixels[i] * 4; // get gradient color from opacity value\n\n        if (pixels[i] / 256 > maxOpacity) {\n            pixels[i] = 256 * maxOpacity;\n        }\n\n        if (j && j >= jMin && j <= jMax) {\n            pixels[i - 3] = gradient[j];\n            pixels[i - 2] = gradient[j + 1];\n            pixels[i - 1] = gradient[j + 2];\n        } else {\n            pixels[i] = 0;\n        }\n    }\n}\n\nfunction getMax(options) {\n    var max = options.max || 100;\n    return max;\n}\n\nfunction getMin(options) {\n    var min = options.min || 0;\n    return min;\n}\n\nfunction drawGray(context, dataSet, options) {\n\n    var max = getMax(options);\n    var min = getMin(options);\n    // console.log(max)\n    var size = options._size;\n    if (size == undefined) {\n        size = options.size;\n        if (size == undefined) {\n            size = 13;\n        }\n    }\n\n    var intensity = new Intensity({\n        gradient: options.gradient,\n        max: max,\n        min: min\n    });\n\n    var circle = createCircle(size);\n    var circleHalfWidth = circle.width / 2;\n    var circleHalfHeight = circle.height / 2;\n\n    var data = dataSet;\n\n    var dataOrderByAlpha = {};\n\n    data.forEach(function(item, index) {\n        var count = item.count === undefined ? 1 : item.count;\n        var alpha = Math.min(1, count / max).toFixed(2);\n        dataOrderByAlpha[alpha] = dataOrderByAlpha[alpha] || [];\n        dataOrderByAlpha[alpha].push(item);\n    });\n\n    for (var i in dataOrderByAlpha) {\n        if (isNaN(i)) continue;\n        var _data = dataOrderByAlpha[i];\n        context.beginPath();\n        if (!options.withoutAlpha) {\n            context.globalAlpha = i;\n        }\n        context.strokeStyle = intensity.getColor(i * max);\n        _data.forEach(function(item, index) {\n            if (!item.geometry) {\n                return;\n            }\n\n            var coordinates = item.geometry._coordinates || item.geometry.coordinates;\n            var type = item.geometry.type;\n            if (type === 'Point') {\n                var count = item.count === undefined ? 1 : item.count;\n                context.globalAlpha = count / max;\n                context.drawImage(circle, coordinates[0] - circleHalfWidth, coordinates[1] - circleHalfHeight);\n            } else if (type === 'LineString') {\n                var count = item.count === undefined ? 1 : item.count;\n                context.globalAlpha = count / max;\n                context.beginPath();\n                pathSimple.draw(context, item, options);\n                context.stroke();\n            } else if (type === 'Polygon') {\n\n            }\n        });\n\n    }\n}\n\nfunction draw(context, dataSet, options) {\n    if (context.canvas.width <= 0 || context.canvas.height <= 0) {\n        return;\n    }\n\n    var strength = options.strength || 0.3;\n    context.strokeStyle = 'rgba(0,0,0,' + strength + ')';\n\n    var shadowCanvas = new Canvas(context.canvas.width, context.canvas.height);\n    var shadowContext = shadowCanvas.getContext('2d');\n    shadowContext.scale(devicePixelRatio, devicePixelRatio);\n\n    options = options || {};\n\n    var data = dataSet instanceof DataSet ? dataSet.get() : dataSet;\n\n    context.save();\n\n    var intensity = new Intensity({\n        gradient: options.gradient\n    });\n\n    //console.time('drawGray')\n    drawGray(shadowContext, data, options);\n\n    //console.timeEnd('drawGray');\n    // return false;\n    if (!options.absolute) {\n        //console.time('changeColor');\n        var colored = shadowContext.getImageData(0, 0, context.canvas.width, context.canvas.height);\n        colorize(colored.data, intensity.getImageData(), options);\n        //console.timeEnd('changeColor');\n        context.putImageData(colored, 0, 0);\n\n        context.restore();\n    }\n\n    intensity = null;\n    shadowCanvas = null;\n}\n\nexport default {\n    draw: draw\n}\n","/**\n * @author kyle / http://nikai.us/\n */\n\nimport Intensity from \"../../utils/data-range/Intensity\";\nimport DataSet from \"../../data/DataSet\";\n\nexport default {\n    draw: function(context, dataSet, options) {\n\n        context.save();\n\n        var data = dataSet instanceof DataSet ? dataSet.get() : dataSet;\n\n        var grids = {};\n\n        var size = options._size || options.size || 50;\n\n        var offset = options.offset || {\n            x: 0,\n            y: 0\n        }\n\n        for (var i = 0; i < data.length; i++) {\n            var coordinates = data[i].geometry._coordinates || data[i].geometry.coordinates;\n            var gridKey = Math.floor((coordinates[0] - offset.x) / size) + \",\" + Math.floor((coordinates[1] - offset.y) / size);\n            if (!grids[gridKey]) {\n                grids[gridKey] = 0;\n            }\n            grids[gridKey] += ~~(data[i].count || 1);\n        }\n\n        var intensity = new Intensity({\n            max: options.max || 100,\n            gradient: options.gradient\n        });\n\n        for (var gridKey in grids) {\n            gridKey = gridKey.split(\",\");\n\n            context.beginPath();\n            context.rect(gridKey[0] * size + .5 + offset.x, gridKey[1] * size + .5 + offset.y, size, size);\n            context.fillStyle = intensity.getColor(grids[gridKey]);\n            context.fill();\n            if (options.strokeStyle && options.lineWidth) {\n                context.stroke();\n            }\n        }\n\n        if (options.label && options.label.show !== false) {\n\n            context.fillStyle = options.label.fillStyle || 'white';\n\n            if (options.label.font) {\n                context.font = options.label.font;\n            }\n\n            if (options.label.shadowColor) {\n                context.shadowColor = options.label.shadowColor;\n            }\n\n            if (options.label.shadowBlur) {\n                context.shadowBlur = options.label.shadowBlur;\n            }\n\n            for (var gridKey in grids) {\n                gridKey = gridKey.split(\",\");\n                var text = grids[gridKey];\n                var textWidth = context.measureText(text).width;\n                context.fillText(text, gridKey[0] * size + .5 + offset.x + size / 2 - textWidth / 2, gridKey[1] * size + .5 + offset.y + size / 2 + 5);\n            }\n        }\n\n        context.restore();\n    }\n}\n","/**\n * @author kyle / http://nikai.us/\n */\n\nimport Intensity from \"../../utils/data-range/Intensity\";\nimport DataSet from \"../../data/DataSet\";\n\nfunction hex_corner(center, size, i) {\n    var angle_deg = 60 * i + 30;\n    var angle_rad = Math.PI / 180 * angle_deg;\n    return [center.x + size * Math.cos(angle_rad), center.y + size * Math.sin(angle_rad)];\n}\n\nexport default {\n    draw: function(context, dataSet, options) {\n\n        context.save();\n\n        var data = dataSet instanceof DataSet ? dataSet.get() : dataSet;\n\n        for (var key in options) {\n            context[key] = options[key];\n        }\n\n        var grids = {};\n\n        var offset = options.offset || {\n            x: 10,\n            y: 10\n        }\n\n        var r = options._size || options.size || 40;\n        r = r / 2 / Math.sin(Math.PI / 3);\n        var dx = r * 2 * Math.sin(Math.PI / 3);\n        var dy = r * 1.5;\n\n        var binsById = {};\n\n        for (var i = 0; i < data.length; i++) {\n            var coordinates = data[i].geometry._coordinates || data[i].geometry.coordinates;\n            var py = (coordinates[1] - offset.y) / dy,\n                pj = Math.round(py),\n                px = (coordinates[0] - offset.x) / dx - (pj & 1 ? .5 : 0),\n                pi = Math.round(px),\n                py1 = py - pj;\n\n            if (Math.abs(py1) * 3 > 1) {\n                var px1 = px - pi,\n                    pi2 = pi + (px < pi ? -1 : 1) / 2,\n                    pj2 = pj + (py < pj ? -1 : 1),\n                    px2 = px - pi2,\n                    py2 = py - pj2;\n                if (px1 * px1 + py1 * py1 > px2 * px2 + py2 * py2) pi = pi2 + (pj & 1 ? 1 : -1) / 2, pj = pj2;\n            }\n\n            var id = pi + \"-\" + pj,\n                bin = binsById[id];\n            if (bin) {\n                bin.push(data[i])\n            } else {\n                bin = binsById[id] = [data[i]];\n                bin.i = pi;\n                bin.j = pj;\n                bin.x = (pi + (pj & 1 ? 1 / 2 : 0)) * dx;\n                bin.y = pj * dy;\n            }\n        }\n\n        var intensity = new Intensity({\n            max: options.max || 100,\n            maxSize: r,\n            gradient: options.gradient\n        });\n\n        for (var key in binsById) {\n\n            var item = binsById[key];\n\n            context.beginPath();\n\n            for (var j = 0; j < 6; j++) {\n\n                var result = hex_corner({\n                    x: item.x + offset.x,\n                    y: item.y + offset.y\n                }, r, j);\n\n                context.lineTo(result[0], result[1]);\n\n            }\n\n            context.closePath();\n\n            var count = 0;\n            for (var i = 0; i < item.length; i++) {\n                count += item[i].count || 1;\n            }\n            item.count = count;\n\n            context.fillStyle = intensity.getColor(count);\n            context.fill();\n            if (options.strokeStyle && options.lineWidth) {\n                context.stroke();\n            }\n        }\n\n        if (options.label && options.label.show !== false) {\n\n            context.fillStyle = options.label.fillStyle || 'white';\n\n            if (options.label.font) {\n                context.font = options.label.font;\n            }\n\n            if (options.label.shadowColor) {\n                context.shadowColor = options.label.shadowColor;\n            }\n\n            if (options.label.shadowBlur) {\n                context.shadowBlur = options.label.shadowBlur;\n            }\n\n            for (var key in binsById) {\n                var item = binsById[key];\n                var text = item.count;\n                if (text < 0) {\n                    text = text.toFixed(2);\n                } else {\n                    text = ~~text;\n                }\n                var textWidth = context.measureText(text).width;\n                context.fillText(text, item.x + offset.x - textWidth / 2, item.y + offset.y + 5);\n            }\n        }\n\n        context.restore();\n    }\n}\n","export function createShader(gl, src, type) {\n    var shader = gl.createShader(type);\n    gl.shaderSource(shader, src);\n    gl.compileShader(shader);\n    return shader;\n}\n\nexport function initShaders(gl, vs_source, fs_source) {\n\n    var vertexShader = createShader(gl, vs_source, gl.VERTEX_SHADER);\n    var fragmentShader = createShader(gl, fs_source, gl.FRAGMENT_SHADER);\n     \n    var glProgram = gl.createProgram();\n     \n    gl.attachShader(glProgram, vertexShader);\n    gl.attachShader(glProgram, fragmentShader);\n    gl.linkProgram(glProgram);\n \n    gl.useProgram(glProgram);\n\n    return glProgram;\n}\n\nexport function getColorData(color) {\n    var tmpCanvas = document.createElement('canvas');\n    var tmpCtx = tmpCanvas.getContext('2d');\n    tmpCanvas.width = 1;\n    tmpCanvas.height = 1;\n    tmpCtx.fillStyle = color;\n    tmpCtx.fillRect(0, 0, 1, 1);\n    return tmpCtx.getImageData(0, 0, 1, 1).data;\n}\n","import {initShaders, getColorData} from './util';\n\nvar vs_s = [\n    'attribute vec4 a_Position;',\n    'void main() {',\n    'gl_Position = a_Position;',\n    'gl_PointSize = 30.0;',\n    '}'\n].join('');\n\nvar fs_s = [\n    'precision mediump float;',\n    'uniform vec4 u_FragColor;',\n    'void main() {',\n    'gl_FragColor = u_FragColor;',\n    '}'\n].join('');\n\nfunction draw(gl, data, options) {\n\n    if (!data) {\n        return;\n    }\n\n    var program = initShaders(gl, vs_s, fs_s)\n\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE);\n\n    //gl.clearColor(0.0, 0.0, 1.0, 1.0);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    var halfCanvasWidth = gl.canvas.width / 2;\n    var halfCanvasHeight = gl.canvas.height / 2;\n\n    // Create a buffer object\n    var vertexBuffer = gl.createBuffer();\n    // Bind the buffer object to target\n    gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\n\n    var a_Position = gl.getAttribLocation(program, 'a_Position');\n    // Assign the buffer object to a_Position variable\n    gl.vertexAttribPointer(a_Position, 2, gl.FLOAT, false, 0, 0);\n\n    // Enable the assignment to a_Position variable\n    gl.enableVertexAttribArray(a_Position);\n\n    var uFragColor = gl.getUniformLocation(program, 'u_FragColor');\n\n    var colored = getColorData(options.strokeStyle || 'red')\n\n    gl.uniform4f(uFragColor,\n        colored[0] / 255,\n        colored[1] / 255,\n        colored[2] / 255,\n        colored[3] / 255);\n\n    gl.lineWidth(options.lineWidth || 1);\n\n    for (var i = 0, len = data.length; i < len; i++) {\n        var _geometry = data[i].geometry._coordinates;\n\n        var verticesData = [];\n\n        for (var j = 0; j < _geometry.length; j++) {\n            var item = _geometry[j];\n\n            var x = (item[0] - halfCanvasWidth) / halfCanvasWidth;\n            var y = (halfCanvasHeight - item[1]) / halfCanvasHeight;\n            verticesData.push(x, y);\n        }\n\n        var vertices = new Float32Array(verticesData);\n        // Write date into the buffer object\n        gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n        gl.drawArrays(gl.LINE_STRIP, 0, _geometry.length);\n    }\n\n};\n\nexport default {\n    draw: draw\n}\n","import {initShaders, getColorData} from './util';\n\nvar vs_s = [\n    'attribute vec4 a_Position;',\n    'attribute float a_PointSize;',\n    'void main() {',\n    'gl_Position = a_Position;',\n    'gl_PointSize = a_PointSize;',\n    '}'\n].join('');\n\nvar fs_s = [\n    'precision mediump float;',\n    'uniform vec4 u_FragColor;',\n    'void main() {',\n    'gl_FragColor = u_FragColor;',\n    '}'\n].join('');\n\nfunction draw (gl, data, options) {\n\n    if (!data) {\n        return;\n    }\n\n    var program = initShaders(gl, vs_s, fs_s)\n\n    var a_Position = gl.getAttribLocation(program, 'a_Position');\n\n    var a_PointSize = gl.getAttribLocation(program, 'a_PointSize');\n\n    var uFragColor = gl.getUniformLocation(program, 'u_FragColor');\n\n    //gl.clearColor(0.0, 0.0, 1.0, 1.0);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    var halfCanvasWidth = gl.canvas.width / 2;\n    var halfCanvasHeight = gl.canvas.height / 2;\n\n    var verticesData = [];\n    var count = 0;\n    for (var i = 0; i < data.length; i++) {\n        var item = data[i].geometry._coordinates;\n\n        var x = (item[0]- halfCanvasWidth) / halfCanvasWidth;\n        var y = (halfCanvasHeight - item[1]) / halfCanvasHeight;\n\n        if (x < -1 || x > 1 || y < -1 || y > 1) {\n            continue;\n        }\n        verticesData.push(x, y);\n        count++;\n    }\n\n    var vertices = new Float32Array(verticesData);\n    var n = count; // The number of vertices\n\n    // Create a buffer object\n    var vertexBuffer = gl.createBuffer();\n\n    // Bind the buffer object to target\n    gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\n    // Write date into the buffer object\n    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n\n    // Assign the buffer object to a_Position variable\n    gl.vertexAttribPointer(a_Position, 2, gl.FLOAT, false, 0, 0);\n\n    // Enable the assignment to a_Position variable\n    gl.enableVertexAttribArray(a_Position);\n\n    gl.vertexAttrib1f(a_PointSize, options._size);\n\n    var colored = getColorData(options.fillStyle || 'red')\n\n    gl.uniform4f(uFragColor,\n        colored[0] / 255,\n        colored[1] / 255,\n        colored[2] / 255,\n        colored[3] / 255);\n    gl.drawArrays(gl.POINTS, 0, n);\n};\n\nexport default {\n    draw: draw\n}\n","'use strict';\n\nfunction earcut(data, holeIndices, dim) {\n\n    dim = dim || 2;\n\n    var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n    if (!outerNode) return triangles;\n\n    var minX, minY, maxX, maxY, x, y, size;\n\n    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n    if (data.length > 80 * dim) {\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n            x = data[i];\n            y = data[i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n        }\n\n        // minX, minY and size are later used to transform coords into integers for z-order calculation\n        size = Math.max(maxX - minX, maxY - minY);\n    }\n\n    earcutLinked(outerNode, triangles, dim, minX, minY, size);\n\n    return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n    var i, last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n    } else {\n        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n    }\n\n    if (last && equals(last, last.next)) {\n        removeNode(last);\n        last = last.next;\n    }\n\n    return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n    if (!start) return start;\n    if (!end) end = start;\n\n    var p = start,\n        again;\n    do {\n        again = false;\n\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) return null;\n            again = true;\n\n        } else {\n            p = p.next;\n        }\n    } while (again || p !== end);\n\n    return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, size, pass) {\n    if (!ear) return;\n\n    // interlink polygon nodes in z-order\n    if (!pass && size) indexCurve(ear, minX, minY, size);\n\n    var stop = ear,\n        prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n        prev = ear.prev;\n        next = ear.next;\n\n        if (size ? isEarHashed(ear, minX, minY, size) : isEar(ear)) {\n            // cut off the triangle\n            triangles.push(prev.i / dim);\n            triangles.push(ear.i / dim);\n            triangles.push(next.i / dim);\n\n            removeNode(ear);\n\n            // skipping the next vertice leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n            // try filtering points and slicing again\n            if (!pass) {\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, size, 1);\n\n            // if this didn't work, try curing all small self-intersections locally\n            } else if (pass === 1) {\n                ear = cureLocalIntersections(ear, triangles, dim);\n                earcutLinked(ear, triangles, dim, minX, minY, size, 2);\n\n            // as a last resort, try splitting the remaining polygon into two\n            } else if (pass === 2) {\n                splitEarcut(ear, triangles, dim, minX, minY, size);\n            }\n\n            break;\n        }\n    }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var p = ear.next.next;\n\n    while (p !== ear.prev) {\n        if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.next;\n    }\n\n    return true;\n}\n\nfunction isEarHashed(ear, minX, minY, size) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // triangle bbox; min & max are calculated like this for speed\n    var minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : (b.x < c.x ? b.x : c.x),\n        minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : (b.y < c.y ? b.y : c.y),\n        maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : (b.x > c.x ? b.x : c.x),\n        maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : (b.y > c.y ? b.y : c.y);\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(minTX, minTY, minX, minY, size),\n        maxZ = zOrder(maxTX, maxTY, minX, minY, size);\n\n    // first look for points inside the triangle in increasing z-order\n    var p = ear.nextZ;\n\n    while (p && p.z <= maxZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.nextZ;\n    }\n\n    // then look for points in decreasing z-order\n    p = ear.prevZ;\n\n    while (p && p.z >= minZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n    }\n\n    return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n    var p = start;\n    do {\n        var a = p.prev,\n            b = p.next.next;\n\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i / dim);\n            triangles.push(p.i / dim);\n            triangles.push(b.i / dim);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n        }\n        p = p.next;\n    } while (p !== start);\n\n    return p;\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, size) {\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n        var b = a.next.next;\n        while (b !== a.prev) {\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n                // split the polygon in two by the diagonal\n                var c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, size);\n                earcutLinked(c, triangles, dim, minX, minY, size);\n                return;\n            }\n            b = b.next;\n        }\n        a = a.next;\n    } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n    var queue = [],\n        i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n        start = holeIndices[i] * dim;\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        list = linkedList(data, start, end, dim, false);\n        if (list === list.next) list.steiner = true;\n        queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n        eliminateHole(queue[i], outerNode);\n        outerNode = filterPoints(outerNode, outerNode.next);\n    }\n\n    return outerNode;\n}\n\nfunction compareX(a, b) {\n    return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n    outerNode = findHoleBridge(hole, outerNode);\n    if (outerNode) {\n        var b = splitPolygon(outerNode, hole);\n        filterPoints(b, b.next);\n    }\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n    var p = outerNode,\n        hx = hole.x,\n        hy = hole.y,\n        qx = -Infinity,\n        m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n        if (hy <= p.y && hy >= p.next.y) {\n            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n                qx = x;\n                if (x === hx) {\n                    if (hy === p.y) return p;\n                    if (hy === p.next.y) return p.next;\n                }\n                m = p.x < p.next.x ? p : p.next;\n            }\n        }\n        p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) return null;\n\n    if (hx === qx) return m.prev; // hole touches outer segment; pick lower endpoint\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n        mx = m.x,\n        my = m.y,\n        tanMin = Infinity,\n        tan;\n\n    p = m.next;\n\n    while (p !== stop) {\n        if (hx >= p.x && p.x >= mx &&\n                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if ((tan < tanMin || (tan === tanMin && p.x > m.x)) && locallyInside(p, hole)) {\n                m = p;\n                tanMin = tan;\n            }\n        }\n\n        p = p.next;\n    }\n\n    return m;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, size) {\n    var p = start;\n    do {\n        if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, size);\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n    var i, p, q, e, tail, numMerges, pSize, qSize,\n        inSize = 1;\n\n    do {\n        p = list;\n        list = null;\n        tail = null;\n        numMerges = 0;\n\n        while (p) {\n            numMerges++;\n            q = p;\n            pSize = 0;\n            for (i = 0; i < inSize; i++) {\n                pSize++;\n                q = q.nextZ;\n                if (!q) break;\n            }\n\n            qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize === 0) {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                } else if (qSize === 0 || !q) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else if (p.z <= q.z) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                }\n\n                if (tail) tail.nextZ = e;\n                else list = e;\n\n                e.prevZ = tail;\n                tail = e;\n            }\n\n            p = q;\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n}\n\n// z-order of a point given coords and size of the data bounding box\nfunction zOrder(x, y, minX, minY, size) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = 32767 * (x - minX) / size;\n    y = 32767 * (y - minY) / size;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n    var p = start,\n        leftmost = start;\n    do {\n        if (p.x < leftmost.x) leftmost = p;\n        p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 &&\n           (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 &&\n           (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) &&\n           locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b);\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n    if ((equals(p1, q1) && equals(p2, q2)) ||\n        (equals(p1, q2) && equals(p2, q1))) return true;\n    return area(p1, q1, p2) > 0 !== area(p1, q1, q2) > 0 &&\n           area(p2, q2, p1) > 0 !== area(p2, q2, q1) > 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n    var p = a;\n    do {\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n                intersects(p, p.next, a, b)) return true;\n        p = p.next;\n    } while (p !== a);\n\n    return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n    var p = a,\n        inside = false,\n        px = (a.x + b.x) / 2,\n        py = (a.y + b.y) / 2;\n    do {\n        if (((p.y > py) !== (p.next.y > py)) && (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            inside = !inside;\n        p = p.next;\n    } while (p !== a);\n\n    return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n    var a2 = new Node(a.i, a.x, a.y),\n        b2 = new Node(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n    var p = new Node(i, x, y);\n\n    if (!last) {\n        p.prev = p;\n        p.next = p;\n\n    } else {\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n    }\n    return p;\n}\n\nfunction removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n    // vertice index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertice nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = null;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n    var hasHoles = holeIndices && holeIndices.length;\n    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\n    var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n    if (hasHoles) {\n        for (var i = 0, len = holeIndices.length; i < len; i++) {\n            var start = holeIndices[i] * dim;\n            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            polygonArea -= Math.abs(signedArea(data, start, end, dim));\n        }\n    }\n\n    var trianglesArea = 0;\n    for (i = 0; i < triangles.length; i += 3) {\n        var a = triangles[i] * dim;\n        var b = triangles[i + 1] * dim;\n        var c = triangles[i + 2] * dim;\n        trianglesArea += Math.abs(\n            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -\n            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n    }\n\n    return polygonArea === 0 && trianglesArea === 0 ? 0 :\n        Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\n\nfunction signedArea(data, start, end, dim) {\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n    }\n    return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten = function (data) {\n    var dim = data[0][0].length,\n        result = {vertices: [], holes: [], dimensions: dim},\n        holeIndex = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);\n        }\n        if (i > 0) {\n            holeIndex += data[i - 1].length;\n            result.holes.push(holeIndex);\n        }\n    }\n    return result;\n};\n\nexport default earcut;\n\n","import {initShaders, getColorData} from './util';\nimport earcut from './earcut';\n\nvar vs_s = [\n    'attribute vec4 a_Position;',\n    'void main() {',\n    'gl_Position = a_Position;',\n    'gl_PointSize = 30.0;',\n    '}'\n].join('');\n\nvar fs_s = [\n    'precision mediump float;',\n    'uniform vec4 u_FragColor;',\n    'void main() {',\n    'gl_FragColor = u_FragColor;',\n    '}'\n].join('');\n\nfunction draw(gl, data, options) {\n\n    if (!data) {\n        return;\n    }\n\n    // gl.clearColor(0.0, 0.0, 0.0, 1.0);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n\n    var program = initShaders(gl, vs_s, fs_s)\n\n    gl.enable(gl.BLEND);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE);\n\n    var halfCanvasWidth = gl.canvas.width / 2;\n    var halfCanvasHeight = gl.canvas.height / 2;\n\n    // Bind the buffer object to target\n    gl.bindBuffer(gl.ARRAY_BUFFER, gl.createBuffer());\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, gl.createBuffer());\n\n    var a_Position = gl.getAttribLocation(program, 'a_Position');\n    // Assign the buffer object to a_Position variable\n    gl.vertexAttribPointer(a_Position, 2, gl.FLOAT, false, 0, 0);\n\n    // Enable the assignment to a_Position variable\n    gl.enableVertexAttribArray(a_Position);\n\n    var uFragColor = gl.getUniformLocation(program, 'u_FragColor');\n\n    var colored = getColorData(options.fillStyle || 'red')\n\n    gl.uniform4f(uFragColor,\n        colored[0] / 255,\n        colored[1] / 255,\n        colored[2] / 255,\n        colored[3] / 255);\n\n    gl.lineWidth(options.lineWidth || 1);\n\n    var verticesArr = [];\n    var trianglesArr = [];\n\n    var maxSize = 65536;\n    var indexOffset = 0;\n\n    for (var i = 0, len = data.length; i < len; i++) {\n\n        var flatten = earcut.flatten(data[i].geometry._coordinates || data[i].geometry.coordinates);\n        var vertices = flatten.vertices;\n        indexOffset = verticesArr.length / 2;\n        for (var j = 0; j < vertices.length; j += 2) {\n            vertices[j] = (vertices[j] - halfCanvasWidth) / halfCanvasWidth;\n            vertices[j + 1] = (halfCanvasHeight - vertices[j + 1]) / halfCanvasHeight;\n        }\n\n        if ((verticesArr.length + vertices.length) / 2 > maxSize) {\n            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(verticesArr), gl.STATIC_DRAW);\n            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(trianglesArr), gl.STATIC_DRAW);\n            gl.drawElements(gl.TRIANGLES, trianglesArr.length, gl.UNSIGNED_SHORT, 0);\n            verticesArr.length = 0;\n            trianglesArr.length = 0;\n            indexOffset = 0;\n        }\n\n        for (var j = 0; j < vertices.length; j++) {\n            verticesArr.push(vertices[j]);\n        }\n\n        var triangles = earcut(vertices, flatten.holes, flatten.dimensions);\n        for (var j = 0; j < triangles.length; j++) {\n            trianglesArr.push(triangles[j] + indexOffset);\n        }\n    }\n\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(verticesArr), gl.STATIC_DRAW);\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(trianglesArr), gl.STATIC_DRAW);\n    gl.drawElements(gl.TRIANGLES, trianglesArr.length, gl.UNSIGNED_SHORT, 0);\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n\n};\n\nexport default {\n    draw: draw\n}\n","/**\n * @author kyle / http://nikai.us/\n */\nimport DataSet from \"../../data/DataSet\";\nimport line from \"./line\";\nimport point from \"./point\";\nimport polygon from \"./polygon\";\n\nexport default {\n    draw: function(gl, dataSet, options) {\n        var data = dataSet instanceof DataSet ? dataSet.get() : dataSet;\n        if (data.length > 0) {\n            if (data[0].geometry.type == \"LineString\") {\n                line.draw(gl, data, options);\n            } else if (data[0].geometry.type == \"Polygon\" || data[0].geometry.type == \"MultiPolygon\") {\n                polygon.draw(gl, data, options);\n            } else {\n                point.draw(gl, data, options);\n            }\n        }\n    }\n}\n","/**\n  * 根据弧线的坐标节点数组\n  */\nfunction getCurvePoints (points, options) {\n  options = options || {};\n  var curvePoints = [];\n  for (var i = 0; i < points.length - 1; i++) {\n    var p = getCurveByTwoPoints(points[i], points[i + 1], options.count);\n    if (p && p.length > 0) {\n      curvePoints = curvePoints.concat(p);\n    }\n  }\n  return curvePoints;\n}\n\n/**\n * 根据两点获取曲线坐标点数组\n * @param Point 起点\n * @param Point 终点\n */\nfunction getCurveByTwoPoints (obj1, obj2, count) {\n  console.info(obj1, obj2)\n  if (!obj1 || !obj2) {\n    return null;\n  }\n\n  var B1 = function (x) {\n    return 1 - 2 * x + x * x;\n  };\n  var B2 = function (x) {\n    return 2 * x - 2 * x * x;\n  };\n  var B3 = function (x) {\n    return x * x;\n  };\n\n  var curveCoordinates = [];\n\n  var count = count || 40; // 曲线是由一些小的线段组成的，这个表示这个曲线所有到的折线的个数\n  var isFuture = false;\n  var t, h, h2, lat3, lng3, j, t2;\n  var LnArray = [];\n  var i = 0;\n  var inc = 0;\n\n  if (typeof (obj2) == \"undefined\") {\n    if (typeof (curveCoordinates) != \"undefined\") {\n      curveCoordinates = [];\n    }\n    return;\n  }\n\n  var lat1 = parseFloat(obj1.lat);\n  var lat2 = parseFloat(obj2.lat);\n  var lng1 = parseFloat(obj1.lng);\n  var lng2 = parseFloat(obj2.lng);\n\n  // 计算曲线角度的方法\n  if (lng2 > lng1) {\n    if (parseFloat(lng2 - lng1) > 180) {\n      if (lng1 < 0) {\n        lng1 = parseFloat(180 + 180 + lng1);\n        lng2 = parseFloat(180 + 180 + lng2);\n      }\n    }\n  }\n  // 此时纠正了 lng1 lng2\n  j = 0;\n  t2 = 0;\n  // 纬度相同\n  if (lat2 == lat1) {\n    t = 0;\n    h = lng1 - lng2;\n    // 经度相同\n  } else if (lng2 == lng1) {\n    t = Math.PI / 2;\n    h = lat1 - lat2;\n  } else {\n    t = Math.atan((lat2 - lat1) / (lng2 - lng1));\n    h = (lat2 - lat1) / Math.sin(t);\n  }\n  if (t2 == 0) {\n    t2 = (t + (Math.PI / 5));\n  }\n  h2 = h / 2;\n  lng3 = h2 * Math.cos(t2) + lng1;\n  lat3 = h2 * Math.sin(t2) + lat1;\n\n  for (i = 0; i < count + 1; i++) {\n    var x = lng1 * B1(inc) + lng3 * B2(inc) + lng2 * B3(inc);\n    var y = lat1 * B1(inc) + lat3 * B2(inc) + lat2 * B3(inc);\n    var lng1_src = obj1.lng;\n    var lng2_src = obj2.lng;\n\n    curveCoordinates.push([\n      (lng1_src < 0 && lng2_src > 0) ? x - 360 : x, y\n    ]);\n    inc = inc + (1 / count);\n  }\n  return curveCoordinates;\n}\n\nfunction Point (lng, lat) {\n  this.lng = lng;\n  this.lat = lat;\n}\n\nvar curve = {\n  getPoints: getCurvePoints\n}\n\nexport default curve;\n","/* \nFDEB algorithm implementation [www.win.tue.nl/~dholten/papers/forcebundles_eurovis.pdf].\n\nAuthor:  (github.com/upphiminn)\n2013\n\n*/\n  \nvar ForceEdgeBundling = function(){\n    var data_nodes = {},        // {'nodeid':{'x':,'y':},..}\n            data_edges = [],        // [{'source':'nodeid1', 'target':'nodeid2'},..]\n            compatibility_list_for_edge = [],\n            subdivision_points_for_edge = [],\n            K = 0.1,                // global bundling constant controling edge stiffness\n            S_initial = 0.1,        // init. distance to move points\n            P_initial = 1,          // init. subdivision number\n            P_rate    = 2,          // subdivision rate increase\n            C = 6,                  // number of cycles to perform\n            I_initial = 70,         // init. number of iterations for cycle\n            I_rate = 0.6666667,     // rate at which iteration number decreases i.e. 2/3\n            compatibility_threshold = 0.6,\n            invers_quadratic_mode  = false,\n            eps = 1e-8;\n             \n\n        /*** Geometry Helper Methods ***/\n        function vector_dot_product(p, q){\n            return p.x * q.x + p.y * q.y;\n        }\n\n        function edge_as_vector(P){\n            return {'x': data_nodes[P.target].x - data_nodes[P.source].x,\n                    'y': data_nodes[P.target].y - data_nodes[P.source].y}\n        }\n\n        function edge_length(e){\n            return Math.sqrt(Math.pow(data_nodes[e.source].x-data_nodes[e.target].x, 2) +\n                             Math.pow(data_nodes[e.source].y-data_nodes[e.target].y, 2));\n        }\n\n        function custom_edge_length(e){\n            return Math.sqrt(Math.pow(e.source.x - e.target.x, 2) + Math.pow(e.source.y - e.target.y, 2));\n        }\n\n        function edge_midpoint(e){\n            var middle_x = (data_nodes[e.source].x + data_nodes[e.target].x) / 2.0;\n            var middle_y = (data_nodes[e.source].y + data_nodes[e.target].y) / 2.0;\n            return {'x': middle_x, 'y': middle_y};\n        }\n\n        function compute_divided_edge_length(e_idx){\n            var length = 0;\n            for(var i = 1; i < subdivision_points_for_edge[e_idx].length; i++){\n                var segment_length = euclidean_distance(subdivision_points_for_edge[e_idx][i],\n                                                        subdivision_points_for_edge[e_idx][i-1]);\n                length += segment_length;\n            }\n            return length;\n        }\n\n        function euclidean_distance(p, q){\n            return Math.sqrt(Math.pow(p.x-q.x, 2) + Math.pow(p.y-q.y, 2));\n        }\n\n        function project_point_on_line(p, Q)\n        {   \n            var L = Math.sqrt((Q.target.x - Q.source.x) * (Q.target.x - Q.source.x) + (Q.target.y - Q.source.y) * (Q.target.y - Q.source.y));\n            var r = ((Q.source.y - p.y) * (Q.source.y - Q.target.y) - (Q.source.x - p.x) * (Q.target.x - Q.source.x)) / (L * L);\n            \n            return  {'x':(Q.source.x + r * (Q.target.x - Q.source.x)), 'y':(Q.source.y + r * (Q.target.y - Q.source.y))};\n        }\n\n        /*** ********************** ***/\n\n        /*** Initialization Methods ***/\n        function initialize_edge_subdivisions()\n        {\n            for(var i = 0; i < data_edges.length; i++)\n             if(P_initial == 1)\n                subdivision_points_for_edge[i] = []; //0 subdivisions\n             else{\n                subdivision_points_for_edge[i] = [];\n                subdivision_points_for_edge[i].push(data_nodes[data_edges[i].source]);\n                subdivision_points_for_edge[i].push(data_nodes[data_edges[i].target]);\n            }\n        }\n\n        function initialize_compatibility_lists()\n        {\n            for(var i = 0; i < data_edges.length; i++)\n                compatibility_list_for_edge[i] = []; //0 compatible edges.\n        }\n\n        function filter_self_loops(edgelist){\n            var filtered_edge_list = [];\n            for(var e=0; e < edgelist.length; e++){\n                if(data_nodes[edgelist[e].source].x != data_nodes[edgelist[e].target].x  &&\n                   data_nodes[edgelist[e].source].y != data_nodes[edgelist[e].target].y ){ //or smaller than eps\n                    filtered_edge_list.push(edgelist[e]);\n\n                }\n            }\n\n            return filtered_edge_list;\n        }\n        /*** ********************** ***/\n\n        /*** Force Calculation Methods ***/\n        function apply_spring_force(e_idx, i, kP){\n\n            var prev = subdivision_points_for_edge[e_idx][i-1];\n            var next = subdivision_points_for_edge[e_idx][i+1];\n            var crnt = subdivision_points_for_edge[e_idx][i];\n\n            var x = prev.x - crnt.x + next.x - crnt.x;\n            var y = prev.y - crnt.y + next.y - crnt.y;\n            \n            x *= kP;\n            y *= kP;\n            \n            return {'x' : x, 'y' : y};\n        }\n\n        function apply_electrostatic_force(e_idx, i , S){\n            var sum_of_forces         = { 'x' : 0, 'y' : 0};\n            var compatible_edges_list = compatibility_list_for_edge[e_idx];\n            \n            for(var oe = 0; oe < compatible_edges_list.length; oe++){\n                var force = {'x': subdivision_points_for_edge[compatible_edges_list[oe]][i].x - subdivision_points_for_edge[e_idx][i].x,\n                             'y': subdivision_points_for_edge[compatible_edges_list[oe]][i].y - subdivision_points_for_edge[e_idx][i].y};\n\n                \n                if((Math.abs(force.x) > eps)||(Math.abs(force.y) > eps)){\n                \n                var diff = ( 1 / Math.pow(custom_edge_length({'source':subdivision_points_for_edge[compatible_edges_list[oe]][i],\n                                                              'target':subdivision_points_for_edge[e_idx][i]}),1));\n                \n                sum_of_forces.x += force.x*diff;\n                sum_of_forces.y += force.y*diff;\n                }\n            } \n            return sum_of_forces;\n        }\n\n\n        function apply_resulting_forces_on_subdivision_points(e_idx, P, S){\n            var kP = K/(edge_length(data_edges[e_idx])*(P+1)); // kP=K/|P|(number of segments), where |P| is the initial length of edge P.\n                        // (length * (num of sub division pts - 1))\n            var resulting_forces_for_subdivision_points = [{'x':0, 'y':0}];\n            for(var i = 1; i < P+1; i++){ // exclude initial end points of the edge 0 and P+1\n                var resulting_force     = {'x' : 0, 'y' : 0};\n                \n                var spring_force            = apply_spring_force(e_idx, i , kP);\n                var electrostatic_force     = apply_electrostatic_force(e_idx, i, S);\n                \n                resulting_force.x   = S*(spring_force.x + electrostatic_force.x);\n                resulting_force.y   = S*(spring_force.y + electrostatic_force.y);\n\n                resulting_forces_for_subdivision_points.push(resulting_force);\n            }\n            resulting_forces_for_subdivision_points.push({'x':0, 'y':0});\n            return resulting_forces_for_subdivision_points;\n        }\n        /*** ********************** ***/\n\n        /*** Edge Division Calculation Methods ***/\n        function update_edge_divisions(P){\n            for(var e_idx=0; e_idx < data_edges.length; e_idx++){\n\n                if( P == 1 ){\n                    subdivision_points_for_edge[e_idx].push(data_nodes[data_edges[e_idx].source]); // source\n                    subdivision_points_for_edge[e_idx].push(edge_midpoint(data_edges[e_idx])); // mid point\n                    subdivision_points_for_edge[e_idx].push(data_nodes[data_edges[e_idx].target]); // target\n                }else{\n\n                    var divided_edge_length = compute_divided_edge_length(e_idx);\n                    var segment_length      = divided_edge_length / (P+1);\n                    var current_segment_length = segment_length;\n                    var new_subdivision_points = [];\n                    new_subdivision_points.push(data_nodes[data_edges[e_idx].source]); //source\n\n                    for(var i = 1; i < subdivision_points_for_edge[e_idx].length; i++){\n                        var old_segment_length = euclidean_distance(subdivision_points_for_edge[e_idx][i], subdivision_points_for_edge[e_idx][i-1]);\n\n                        while(old_segment_length > current_segment_length){\n                            var percent_position = current_segment_length / old_segment_length;\n                            var new_subdivision_point_x = subdivision_points_for_edge[e_idx][i-1].x;\n                            var new_subdivision_point_y = subdivision_points_for_edge[e_idx][i-1].y;\n\n                            new_subdivision_point_x += percent_position*(subdivision_points_for_edge[e_idx][i].x - subdivision_points_for_edge[e_idx][i-1].x);\n                            new_subdivision_point_y += percent_position*(subdivision_points_for_edge[e_idx][i].y - subdivision_points_for_edge[e_idx][i-1].y);\n                            new_subdivision_points.push( {'x':new_subdivision_point_x, \n                                                          'y':new_subdivision_point_y });\n                            \n                            old_segment_length     -= current_segment_length;\n                            current_segment_length  = segment_length;\n                        }\n                        current_segment_length -= old_segment_length;\n                    }\n                    new_subdivision_points.push(data_nodes[data_edges[e_idx].target]); //target\n                    subdivision_points_for_edge[e_idx] = new_subdivision_points;\n                }\n            }\n        }\n        /*** ********************** ***/\n\n        /*** Edge compatibility measures ***/\n        function angle_compatibility(P, Q){\n            var result = Math.abs(vector_dot_product(edge_as_vector(P),edge_as_vector(Q))/(edge_length(P)*edge_length(Q)));\n            return result;\n        }\n\n        function scale_compatibility(P, Q){\n            var lavg = (edge_length(P) + edge_length(Q))/2.0;\n            var result = 2.0/(lavg/Math.min(edge_length(P),edge_length(Q)) + Math.max(edge_length(P), edge_length(Q))/lavg);\n            return result;\n        }\n\n        function position_compatibility(P, Q){\n            var lavg = (edge_length(P) + edge_length(Q))/2.0;\n            var midP = {'x':(data_nodes[P.source].x + data_nodes[P.target].x)/2.0,\n                        'y':(data_nodes[P.source].y + data_nodes[P.target].y)/2.0};\n            var midQ = {'x':(data_nodes[Q.source].x + data_nodes[Q.target].x)/2.0,\n                        'y':(data_nodes[Q.source].y + data_nodes[Q.target].y)/2.0};\n            var result = lavg/(lavg + euclidean_distance(midP, midQ));\n            return result;\n        }\n\n        function edge_visibility(P, Q){\n            var I0 = project_point_on_line(data_nodes[Q.source], {'source':data_nodes[P.source],\n                                                                  'target':data_nodes[P.target]});\n            var I1 = project_point_on_line(data_nodes[Q.target], {'source':data_nodes[P.source], \n                                                                  'target':data_nodes[P.target]}); //send acutal edge points positions\n            var midI = {'x':(I0.x + I1.x)/2.0, \n                        'y':(I0.y + I1.y)/2.0};\n            var midP = {'x':(data_nodes[P.source].x + data_nodes[P.target].x)/2.0, \n                        'y':(data_nodes[P.source].y + data_nodes[P.target].y)/2.0};\n            var result = Math.max(0, 1 - 2 * euclidean_distance(midP,midI)/euclidean_distance(I0,I1));\n            return result;\n        }\n\n        function visibility_compatibility(P, Q){\n            return Math.min(edge_visibility(P,Q), edge_visibility(Q,P));\n        }\n\n        function compatibility_score(P, Q){\n            var result = (angle_compatibility(P,Q) * scale_compatibility(P,Q) * \n                          position_compatibility(P,Q) * visibility_compatibility(P,Q));\n\n            return result;\n        }\n\n        function are_compatible(P, Q){\n            // console.log('compatibility ' + P.source +' - '+ P.target + ' and ' + Q.source +' '+ Q.target);\n            return (compatibility_score(P,Q) >= compatibility_threshold);\n        }\n\n        function compute_compatibility_lists()\n        {\n            for(var e = 0; e < data_edges.length - 1; e++){\n                for( var oe = e + 1 ; oe < data_edges.length; oe++){ // don't want any duplicates\n                    if(e == oe)\n                        continue;\n                    else{\n                        if(are_compatible(data_edges[e],data_edges[oe])){\n                            compatibility_list_for_edge[e].push(oe);\n                            compatibility_list_for_edge[oe].push(e);\n                        }\n                    }\n                }\n            }\n        }\n\n        /*** ************************ ***/\n\n        /*** Main Bundling Loop Methods ***/ \n        var forcebundle = function(){\n            var S = S_initial;\n            var I = I_initial;\n            var P = P_initial;\n            \n            initialize_edge_subdivisions();\n            initialize_compatibility_lists();\n            update_edge_divisions(P);\n            compute_compatibility_lists();\n            for(var cycle=0; cycle < C; cycle++){\n                for (var iteration = 0; iteration < I; iteration++){\n                    var forces = [];\n                    for(var edge = 0; edge < data_edges.length; edge++){\n                        forces[edge] = apply_resulting_forces_on_subdivision_points(edge, P, S);\n                    }\n                    for(var e = 0; e < data_edges.length; e++){\n                        for(var i=0; i < P + 1;i++){\n                            subdivision_points_for_edge[e][i].x += forces[e][i].x;\n                            subdivision_points_for_edge[e][i].y += forces[e][i].y;\n                        }\n                    }\n                }\n                //prepare for next cycle\n                S = S / 2;\n                P = P * 2;\n                I = I_rate * I;\n                \n                update_edge_divisions(P);\n                // console.log('C' + cycle);\n                // console.log('P' + P);\n                // console.log('S' + S);\n            }\n            return subdivision_points_for_edge;\n        }\n        /*** ************************ ***/\n\n\n        /*** Getters/Setters Methods ***/ \n        forcebundle.nodes = function(nl){\n            if(arguments.length == 0){\n                return data_nodes;\n            }\n            else{\n                data_nodes = nl;\n            }\n            return forcebundle;\n        }\n\n        forcebundle.edges = function(ll){\n            if(arguments.length == 0){\n                return data_edges;\n            }\n            else{\n                data_edges = filter_self_loops(ll); //remove edges to from to the same point\n            }\n            return forcebundle;\n        }\n\n        forcebundle.bundling_stiffness = function(k){\n            if(arguments.length == 0){\n                return K;\n            }\n            else{\n                K = k;\n            }\n            return forcebundle;\n        }\n\n        forcebundle.step_size = function(step){\n            if(arguments.length == 0){\n                return S_initial;\n            }\n            else{\n                S_initial = step;\n            }\n            return forcebundle;\n        }\n\n        forcebundle.cycles = function(c){\n            if(arguments.length == 0){\n                return C;\n            }\n            else{\n                C = c;\n            }\n            return forcebundle;\n        }\n\n        forcebundle.iterations = function(i){\n            if(arguments.length == 0){\n                return I_initial;\n            }\n            else{\n                I_initial = i;\n            }\n            return forcebundle;\n        }\n\n        forcebundle.iterations_rate = function(i){\n            if(arguments.length == 0){\n                return I_rate;\n            }\n            else{\n                I_rate = i;\n            }\n            return forcebundle;\n        }\n\n        forcebundle.subdivision_points_seed = function(p){\n            if(arguments.length == 0){\n                return P;\n            }\n            else{\n                P = p;\n            }\n            return forcebundle;\n        }\n\n        forcebundle.subdivision_rate = function(r){\n            if(arguments.length == 0){\n                return P_rate;\n            }\n            else{\n                P_rate = r;\n            }\n            return forcebundle;\n        }\n\n        forcebundle.compatbility_threshold = function(t){\n            if(arguments.length == 0){\n                return compatbility_threshold;\n            }\n            else{\n                compatibility_threshold = t;\n            }\n            return forcebundle;\n        }\n\n        /*** ************************ ***/\n\n    return forcebundle;\n}\n\nexport default ForceEdgeBundling;\n\n","/**\n * @author kyle / http://nikai.us/\n */\n\n/**\n * Category\n * @param {Object} splitList:\n *   { \n *       other: 1,\n *       1: 2,\n *       2: 3,\n *       3: 4,\n *       4: 5,\n *       5: 6,\n *       6: 7\n *   }\n */\nfunction Category(splitList) {\n    this.splitList = splitList || {\n        other: 1\n    };\n}\n\nCategory.prototype.get = function (count) {\n\n    var splitList = this.splitList;\n    \n    var value = splitList['other'];\n\n    for (var i in splitList) {\n        if (count == i) {\n            value = splitList[i];\n            break;\n        }\n    }\n\n    return value;\n}\n\n/**\n * 根据DataSet自动生成对应的splitList\n */\nCategory.prototype.generateByDataSet = function (dataSet, color) {\n    var colors = color || ['rgba(255, 255, 0, 0.8)', 'rgba(253, 98, 104, 0.8)', 'rgba(255, 146, 149, 0.8)', 'rgba(255, 241, 193, 0.8)', 'rgba(110, 176, 253, 0.8)', 'rgba(52, 139, 251, 0.8)', 'rgba(17, 102, 252, 0.8)'];\n    var data = dataSet.get();\n    this.splitList = {};\n    var count = 0;\n    for (var i = 0; i < data.length; i++) {\n        if (this.splitList[data[i].count] === undefined) {\n            this.splitList[data[i].count] = colors[count];\n            count++;\n        }\n        if (count >= colors.length - 1) {\n            break;\n        }\n    }\n\n    this.splitList['other'] = colors[colors.length - 1];\n}\n\n\nCategory.prototype.getLegend = function (options) {\n    var splitList = this.splitList;\n    var container = document.createElement('div');\n    container.style.cssText = \"background:#fff; padding: 5px; border: 1px solid #ccc;\";\n    var html = '';\n    for (var key in splitList) {\n        html += '<div style=\"line-height: 19px;\" value=\"' + key + '\"><span style=\"vertical-align: -2px; display: inline-block; width: 30px;height: 19px;background:' + splitList[key] + ';\"></span><span style=\"margin-left: 3px;\">' + key + '<span></div>' \n    }\n    container.innerHTML = html;\n    return container;\n}\n\nexport default Category;\n","/**\n * @author kyle / http://nikai.us/\n */\n\n/**\n * Choropleth\n * @param {Object} splitList:\n *       [\n *           {\n *               start: 0,\n *               end: 2,\n *               value: randomColor()\n *           },{\n *               start: 2,\n *               end: 4,\n *               value: randomColor()\n *           },{\n *               start: 4,\n *               value: randomColor()\n *           }\n *       ];\n *\n */\nfunction Choropleth(splitList) {\n    this.splitList = splitList || [{\n        start: 0,\n        value: 'red'\n    }];\n}\n\nChoropleth.prototype.get = function (count) {\n    var splitList = this.splitList;\n\n    var value = false;\n\n    for (var i = 0; i < splitList.length; i++) {\n        if ((splitList[i].start === undefined ||\n                splitList[i].start !== undefined &&\n                count >= splitList[i].start) &&\n            (splitList[i].end === undefined ||\n                splitList[i].end !== undefined && count < splitList[i].end)) {\n            value = splitList[i].value;\n            break;\n        }\n    }\n\n    return value;\n\n}\n\n/**\n * 根据DataSet自动生成对应的splitList\n */\nChoropleth.prototype.generateByDataSet = function (dataSet) {\n\n    var min = dataSet.getMin('count');\n    var max = dataSet.getMax('count');\n\n    this.generateByMinMax(min, max);\n\n}\n\n/**\n * 根据DataSet自动生成对应的splitList\n */\nChoropleth.prototype.generateByMinMax = function (min, max) {\n    var colors = ['rgba(255, 255, 0, 0.8)', 'rgba(253, 98, 104, 0.8)', 'rgba(255, 146, 149, 0.8)', 'rgba(255, 241, 193, 0.8)', 'rgba(110, 176, 253, 0.8)', 'rgba(52, 139, 251, 0.8)', 'rgba(17, 102, 252, 0.8)'];\n    var splitNum = Number((max - min) / 7);\n    // console.log(splitNum)\n    max = Number(max);\n    var index = Number(min);\n    this.splitList = [];\n    var count = 0;\n\n    while (index < max) {\n        this.splitList.push({\n            start: index,\n            end: index + splitNum,\n            value: colors[count]\n        });\n        count++;\n        index += splitNum;\n        // console.log(index, max)\n    }\n    // console.log('splitNum')\n}\n\nChoropleth.prototype.getLegend = function (options) {\n    var splitList = this.splitList;\n}\n\nexport default Choropleth;","/**\n * @author Mofei<http://www.zhuwenlong.com>\n */\n\nclass MapHelper {\n    constructor(id, type, opt) {\n        if (!id || !type) {\n            console.warn('id 和 type 为必填项');\n            return false;\n        }\n\n\n        if (type == 'baidu') {\n            if (!BMap) {\n                console.warn('请先引入百度地图JS API');\n                return false;\n            }\n        } else {\n            console.warn('暂不支持你的地图类型');\n        }\n        this.type = type;\n        var center = (opt && opt.center) ? opt.center : [106.962497, 38.208726];\n        var zoom = (opt && opt.zoom) ? opt.zoom : 5;\n        var map = this.map = new BMap.Map(id, {\n            enableMapClick: false\n        });\n        map.centerAndZoom(new BMap.Point(center[0], center[1]), zoom);\n        map.enableScrollWheelZoom(true);\n\n        map.setMapStyle({\n            style: 'light'\n        });\n    }\n\n    addLayer(datas, options) {\n        if (this.type == 'baidu') {\n            return new mapv.baiduMapLayer(this.map, dataSet, options);\n        }\n    }\n\n    getMap() {\n        return this.map;\n    }\n}\n\n// function MapHelper(dom, type, opt) {\n//     var map = new BMap.Map(dom, {\n//         enableMapClick: false\n//     });\n//     map.centerAndZoom(new BMap.Point(106.962497, 38.208726), 5);\n//     map.enableScrollWheelZoom(true);\n\n//     map.setMapStyle({\n//         style: 'light'\n//     });\n// }\n\nexport default MapHelper;","/**\n * 一直覆盖在当前地图视野的Canvas对象\n *\n * @author nikai (@胖嘟嘟的骨头, nikai@baidu.com)\n *\n * @param \n * {\n *     map 地图实例对象\n * }\n */\n\nfunction CanvasLayer(options) {\n    this.options = options || {};\n    this.paneName = this.options.paneName || 'mapPane';\n    this.context = this.options.context  || '2d';\n    this.zIndex = this.options.zIndex || 0;\n    this.mixBlendMode = this.options.mixBlendMode || null;\n    this.enableMassClear = this.options.enableMassClear;\n    this._map = options.map;\n    this._lastDrawTime = null;\n    this.show();\n}\n\nvar global = typeof window === 'undefined' ? {} : window;\n\nif (global.BMap) {\n\n    CanvasLayer.prototype = new BMap.Overlay();\n\n    CanvasLayer.prototype.initialize = function(map) {\n        this._map = map;\n        var canvas = this.canvas = document.createElement(\"canvas\");\n        canvas.style.cssText = \"position:absolute;\" + \"left:0;\" + \"top:0;\" + \"z-index:\" + this.zIndex + \";user-select:none;\";\n        canvas.style.mixBlendMode = this.mixBlendMode;\n        this.adjustSize();\n        map.getPanes()[this.paneName].appendChild(canvas);\n        var that = this;\n        map.addEventListener('resize', function() {\n            that.adjustSize();\n            that._draw();\n        });\n        /*\n        map.addEventListener('moving', function() {\n            that._draw();\n        });\n        */\n        return this.canvas;\n    }\n\n    CanvasLayer.prototype.adjustSize = function() {\n        var size = this._map.getSize();\n        var canvas = this.canvas;\n\n        var devicePixelRatio = this.devicePixelRatio = global.devicePixelRatio || 1;\n\n        canvas.width = size.width * devicePixelRatio;\n        canvas.height = size.height * devicePixelRatio;\n        if (this.context == '2d') {\n            canvas.getContext(this.context).scale(devicePixelRatio, devicePixelRatio);\n        }\n\n        canvas.style.width = size.width + \"px\";\n        canvas.style.height = size.height + \"px\";\n    }\n\n    CanvasLayer.prototype.draw = function() {\n        var self = this;\n        clearTimeout(self.timeoutID);\n        self.timeoutID = setTimeout(function() {\n            self._draw();\n        }, 15);\n    }\n\n    CanvasLayer.prototype._draw = function() {\n        var map = this._map;\n        var size = map.getSize();\n        var center = map.getCenter();\n        if (center) {\n            var pixel = map.pointToOverlayPixel(center);\n            this.canvas.style.left = pixel.x - size.width / 2 + 'px';\n            this.canvas.style.top = pixel.y - size.height / 2 + 'px';\n            this.dispatchEvent('draw');\n            this.options.update && this.options.update.call(this);\n        }\n    }\n\n    CanvasLayer.prototype.getContainer = function() {\n        return this.canvas;\n    }\n\n    CanvasLayer.prototype.show = function() {\n        if (!this.canvas) {\n            this._map.addOverlay(this);\n        }\n        this.canvas.style.display = \"block\";\n    }\n\n    CanvasLayer.prototype.hide = function() {\n        this.canvas.style.display = \"none\";\n        //this._map.removeOverlay(this);\n    }\n\n    CanvasLayer.prototype.setZIndex = function(zIndex) {\n        this.zIndex = zIndex;\n        this.canvas.style.zIndex = this.zIndex;\n    }\n\n    CanvasLayer.prototype.getZIndex = function() {\n        return this.zIndex;\n    }\n\n}\n\nexport default CanvasLayer;\n","/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\nvar TWEEN = TWEEN || (function () {\n\n    var _tweens = [];\n\n    return {\n\n        getAll: function () {\n\n            return _tweens;\n\n        },\n\n        removeAll: function () {\n\n            _tweens = [];\n\n        },\n\n        add: function (tween) {\n\n            _tweens.push(tween);\n\n        },\n\n        remove: function (tween) {\n\n            var i = _tweens.indexOf(tween);\n\n            if (i !== -1) {\n                _tweens.splice(i, 1);\n            }\n\n        },\n\n        update: function (time, preserve) {\n\n            if (_tweens.length === 0) {\n                return false;\n            }\n\n            var i = 0;\n\n            time = time !== undefined ? time : TWEEN.now();\n\n            while (i < _tweens.length) {\n\n                if (_tweens[i].update(time) || preserve) {\n                    i++;\n                } else {\n                    _tweens.splice(i, 1);\n                }\n\n            }\n\n            return true;\n\n        }\n    };\n\n})();\n\n\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\nif (typeof (window) === 'undefined' && typeof (process) !== 'undefined') {\n    TWEEN.now = function () {\n        var time = process.hrtime();\n\n        // Convert [seconds, nanoseconds] to milliseconds.\n        return time[0] * 1000 + time[1] / 1000000;\n    };\n}\n// In a browser, use window.performance.now if it is available.\nelse if (typeof (window) !== 'undefined' &&\n         window.performance !== undefined &&\n         window.performance.now !== undefined) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    TWEEN.now = window.performance.now.bind(window.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n    TWEEN.now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n    TWEEN.now = function () {\n        return new Date().getTime();\n    };\n}\n\n\nTWEEN.Tween = function (object) {\n\n    var _object = object;\n    var _valuesStart = {};\n    var _valuesEnd = {};\n    var _valuesStartRepeat = {};\n    var _duration = 1000;\n    var _repeat = 0;\n    var _repeatDelayTime;\n    var _yoyo = false;\n    var _isPlaying = false;\n    var _reversed = false;\n    var _delayTime = 0;\n    var _startTime = null;\n    var _easingFunction = TWEEN.Easing.Linear.None;\n    var _interpolationFunction = TWEEN.Interpolation.Linear;\n    var _chainedTweens = [];\n    var _onStartCallback = null;\n    var _onStartCallbackFired = false;\n    var _onUpdateCallback = null;\n    var _onCompleteCallback = null;\n    var _onStopCallback = null;\n\n    this.to = function (properties, duration) {\n\n        _valuesEnd = properties;\n\n        if (duration !== undefined) {\n            _duration = duration;\n        }\n\n        return this;\n\n    };\n\n    this.start = function (time) {\n\n        TWEEN.add(this);\n\n        _isPlaying = true;\n\n        _onStartCallbackFired = false;\n\n        _startTime = time !== undefined ? time : TWEEN.now();\n        _startTime += _delayTime;\n\n        for (var property in _valuesEnd) {\n\n            // Check if an Array was provided as property value\n            if (_valuesEnd[property] instanceof Array) {\n\n                if (_valuesEnd[property].length === 0) {\n                    continue;\n                }\n\n                // Create a local copy of the Array with the start value at the front\n                _valuesEnd[property] = [_object[property]].concat(_valuesEnd[property]);\n\n            }\n\n            // If `to()` specifies a property that doesn't exist in the source object,\n            // we should not set that property in the object\n            if (_object[property] === undefined) {\n                continue;\n            }\n\n            // Save the starting value.\n            _valuesStart[property] = _object[property];\n\n            if ((_valuesStart[property] instanceof Array) === false) {\n                _valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n            }\n\n            _valuesStartRepeat[property] = _valuesStart[property] || 0;\n\n        }\n\n        return this;\n\n    };\n\n    this.stop = function () {\n\n        if (!_isPlaying) {\n            return this;\n        }\n\n        TWEEN.remove(this);\n        _isPlaying = false;\n\n        if (_onStopCallback !== null) {\n            _onStopCallback.call(_object, _object);\n        }\n\n        this.stopChainedTweens();\n        return this;\n\n    };\n\n    this.end = function () {\n\n        this.update(_startTime + _duration);\n        return this;\n\n    };\n\n    this.stopChainedTweens = function () {\n\n        for (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n            _chainedTweens[i].stop();\n        }\n\n    };\n\n    this.delay = function (amount) {\n\n        _delayTime = amount;\n        return this;\n\n    };\n\n    this.repeat = function (times) {\n\n        _repeat = times;\n        return this;\n\n    };\n\n    this.repeatDelay = function (amount) {\n\n        _repeatDelayTime = amount;\n        return this;\n\n    };\n\n    this.yoyo = function (yoyo) {\n\n        _yoyo = yoyo;\n        return this;\n\n    };\n\n\n    this.easing = function (easing) {\n\n        _easingFunction = easing;\n        return this;\n\n    };\n\n    this.interpolation = function (interpolation) {\n\n        _interpolationFunction = interpolation;\n        return this;\n\n    };\n\n    this.chain = function () {\n\n        _chainedTweens = arguments;\n        return this;\n\n    };\n\n    this.onStart = function (callback) {\n\n        _onStartCallback = callback;\n        return this;\n\n    };\n\n    this.onUpdate = function (callback) {\n\n        _onUpdateCallback = callback;\n        return this;\n\n    };\n\n    this.onComplete = function (callback) {\n\n        _onCompleteCallback = callback;\n        return this;\n\n    };\n\n    this.onStop = function (callback) {\n\n        _onStopCallback = callback;\n        return this;\n\n    };\n\n    this.update = function (time) {\n\n        var property;\n        var elapsed;\n        var value;\n\n        if (time < _startTime) {\n            return true;\n        }\n\n        if (_onStartCallbackFired === false) {\n\n            if (_onStartCallback !== null) {\n                _onStartCallback.call(_object, _object);\n            }\n\n            _onStartCallbackFired = true;\n        }\n\n        elapsed = (time - _startTime) / _duration;\n        elapsed = elapsed > 1 ? 1 : elapsed;\n\n        value = _easingFunction(elapsed);\n\n        for (property in _valuesEnd) {\n\n            // Don't update properties that do not exist in the source object\n            if (_valuesStart[property] === undefined) {\n                continue;\n            }\n\n            var start = _valuesStart[property] || 0;\n            var end = _valuesEnd[property];\n\n            if (end instanceof Array) {\n\n                _object[property] = _interpolationFunction(end, value);\n\n            } else {\n\n                // Parses relative end values with start as base (e.g.: +10, -3)\n                if (typeof (end) === 'string') {\n\n                    if (end.charAt(0) === '+' || end.charAt(0) === '-') {\n                        end = start + parseFloat(end);\n                    } else {\n                        end = parseFloat(end);\n                    }\n                }\n\n                // Protect against non numeric properties.\n                if (typeof (end) === 'number') {\n                    _object[property] = start + (end - start) * value;\n                }\n\n            }\n\n        }\n\n        if (_onUpdateCallback !== null) {\n            _onUpdateCallback.call(_object, value);\n        }\n\n        if (elapsed === 1) {\n\n            if (_repeat > 0) {\n\n                if (isFinite(_repeat)) {\n                    _repeat--;\n                }\n\n                // Reassign starting values, restart by making startTime = now\n                for (property in _valuesStartRepeat) {\n\n                    if (typeof (_valuesEnd[property]) === 'string') {\n                        _valuesStartRepeat[property] = _valuesStartRepeat[property] + parseFloat(_valuesEnd[property]);\n                    }\n\n                    if (_yoyo) {\n                        var tmp = _valuesStartRepeat[property];\n\n                        _valuesStartRepeat[property] = _valuesEnd[property];\n                        _valuesEnd[property] = tmp;\n                    }\n\n                    _valuesStart[property] = _valuesStartRepeat[property];\n\n                }\n\n                if (_yoyo) {\n                    _reversed = !_reversed;\n                }\n\n                if (_repeatDelayTime !== undefined) {\n                    _startTime = time + _repeatDelayTime;\n                } else {\n                    _startTime = time + _delayTime;\n                }\n\n                return true;\n\n            } else {\n\n                if (_onCompleteCallback !== null) {\n\n                    _onCompleteCallback.call(_object, _object);\n                }\n\n                for (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n                    // Make the chained tweens start exactly at the time they should,\n                    // even if the `update()` method was called way past the duration of the tween\n                    _chainedTweens[i].start(_startTime + _duration);\n                }\n\n                return false;\n\n            }\n\n        }\n\n        return true;\n\n    };\n\n};\n\n\nTWEEN.Easing = {\n\n    Linear: {\n\n        None: function (k) {\n\n            return k;\n\n        }\n\n    },\n\n    Quadratic: {\n\n        In: function (k) {\n\n            return k * k;\n\n        },\n\n        Out: function (k) {\n\n            return k * (2 - k);\n\n        },\n\n        InOut: function (k) {\n\n            if ((k *= 2) < 1) {\n                return 0.5 * k * k;\n            }\n\n            return - 0.5 * (--k * (k - 2) - 1);\n\n        }\n\n    },\n\n    Cubic: {\n\n        In: function (k) {\n\n            return k * k * k;\n\n        },\n\n        Out: function (k) {\n\n            return --k * k * k + 1;\n\n        },\n\n        InOut: function (k) {\n\n            if ((k *= 2) < 1) {\n                return 0.5 * k * k * k;\n            }\n\n            return 0.5 * ((k -= 2) * k * k + 2);\n\n        }\n\n    },\n\n    Quartic: {\n\n        In: function (k) {\n\n            return k * k * k * k;\n\n        },\n\n        Out: function (k) {\n\n            return 1 - (--k * k * k * k);\n\n        },\n\n        InOut: function (k) {\n\n            if ((k *= 2) < 1) {\n                return 0.5 * k * k * k * k;\n            }\n\n            return - 0.5 * ((k -= 2) * k * k * k - 2);\n\n        }\n\n    },\n\n    Quintic: {\n\n        In: function (k) {\n\n            return k * k * k * k * k;\n\n        },\n\n        Out: function (k) {\n\n            return --k * k * k * k * k + 1;\n\n        },\n\n        InOut: function (k) {\n\n            if ((k *= 2) < 1) {\n                return 0.5 * k * k * k * k * k;\n            }\n\n            return 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n        }\n\n    },\n\n    Sinusoidal: {\n\n        In: function (k) {\n\n            return 1 - Math.cos(k * Math.PI / 2);\n\n        },\n\n        Out: function (k) {\n\n            return Math.sin(k * Math.PI / 2);\n\n        },\n\n        InOut: function (k) {\n\n            return 0.5 * (1 - Math.cos(Math.PI * k));\n\n        }\n\n    },\n\n    Exponential: {\n\n        In: function (k) {\n\n            return k === 0 ? 0 : Math.pow(1024, k - 1);\n\n        },\n\n        Out: function (k) {\n\n            return k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n        },\n\n        InOut: function (k) {\n\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(1024, k - 1);\n            }\n\n            return 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n        }\n\n    },\n\n    Circular: {\n\n        In: function (k) {\n\n            return 1 - Math.sqrt(1 - k * k);\n\n        },\n\n        Out: function (k) {\n\n            return Math.sqrt(1 - (--k * k));\n\n        },\n\n        InOut: function (k) {\n\n            if ((k *= 2) < 1) {\n                return - 0.5 * (Math.sqrt(1 - k * k) - 1);\n            }\n\n            return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n        }\n\n    },\n\n    Elastic: {\n\n        In: function (k) {\n\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\n        },\n\n        Out: function (k) {\n\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\n        },\n\n        InOut: function (k) {\n\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            k *= 2;\n\n            if (k < 1) {\n                return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n            }\n\n            return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\n        }\n\n    },\n\n    Back: {\n\n        In: function (k) {\n\n            var s = 1.70158;\n\n            return k * k * ((s + 1) * k - s);\n\n        },\n\n        Out: function (k) {\n\n            var s = 1.70158;\n\n            return --k * k * ((s + 1) * k + s) + 1;\n\n        },\n\n        InOut: function (k) {\n\n            var s = 1.70158 * 1.525;\n\n            if ((k *= 2) < 1) {\n                return 0.5 * (k * k * ((s + 1) * k - s));\n            }\n\n            return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n        }\n\n    },\n\n    Bounce: {\n\n        In: function (k) {\n\n            return 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n        },\n\n        Out: function (k) {\n\n            if (k < (1 / 2.75)) {\n                return 7.5625 * k * k;\n            } else if (k < (2 / 2.75)) {\n                return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n            } else if (k < (2.5 / 2.75)) {\n                return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n            } else {\n                return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n            }\n\n        },\n\n        InOut: function (k) {\n\n            if (k < 0.5) {\n                return TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n            }\n\n            return TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n        }\n\n    }\n\n};\n\nTWEEN.Interpolation = {\n\n    Linear: function (v, k) {\n\n        var m = v.length - 1;\n        var f = m * k;\n        var i = Math.floor(f);\n        var fn = TWEEN.Interpolation.Utils.Linear;\n\n        if (k < 0) {\n            return fn(v[0], v[1], f);\n        }\n\n        if (k > 1) {\n            return fn(v[m], v[m - 1], m - f);\n        }\n\n        return fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n    },\n\n    Bezier: function (v, k) {\n\n        var b = 0;\n        var n = v.length - 1;\n        var pw = Math.pow;\n        var bn = TWEEN.Interpolation.Utils.Bernstein;\n\n        for (var i = 0; i <= n; i++) {\n            b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n        }\n\n        return b;\n\n    },\n\n    CatmullRom: function (v, k) {\n\n        var m = v.length - 1;\n        var f = m * k;\n        var i = Math.floor(f);\n        var fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n        if (v[0] === v[m]) {\n\n            if (k < 0) {\n                i = Math.floor(f = m * (1 + k));\n            }\n\n            return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n        } else {\n\n            if (k < 0) {\n                return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n            }\n\n            if (k > 1) {\n                return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n            }\n\n            return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n        }\n\n    },\n\n    Utils: {\n\n        Linear: function (p0, p1, t) {\n\n            return (p1 - p0) * t + p0;\n\n        },\n\n        Bernstein: function (n, i) {\n\n            var fc = TWEEN.Interpolation.Utils.Factorial;\n\n            return fc(n) / fc(i) / fc(n - i);\n\n        },\n\n        Factorial: (function () {\n\n            var a = [1];\n\n            return function (n) {\n\n                var s = 1;\n\n                if (a[n]) {\n                    return a[n];\n                }\n\n                for (var i = n; i > 1; i--) {\n                    s *= i;\n                }\n\n                a[n] = s;\n                return s;\n\n            };\n\n        })(),\n\n        CatmullRom: function (p0, p1, p2, p3, t) {\n\n            var v0 = (p2 - p0) * 0.5;\n            var v1 = (p3 - p1) * 0.5;\n            var t2 = t * t;\n            var t3 = t * t2;\n\n            return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n        }\n\n    }\n\n};\n\nexport default TWEEN;\n","/**\n * 根据2点获取角度\n * @param Array [123, 23] 点1\n * @param Array [123, 23] 点2\n * @return angle 角度,不是弧度\n */\nfunction getAngle(start, end) {\n    var diff_x = end[0] - start[0];\n    var diff_y = end[1] - start[1];\n    var deg = 360 * Math.atan(diff_y / diff_x) / (2 * Math.PI);\n    if(end[0] < start[0]){\n        deg = deg + 180;\n    }\n    return deg;\n}\n\nexport {getAngle};\n","/**\n * 绘制沿线箭头\n * @author kyle / http://nikai.us/\n */\n\nimport pathSimple from \"../path/simple\";\nimport DataSet from \"../../data/DataSet\";\nimport {getAngle} from \"../../utils/index.js\";\nimport {devicePixelRatio} from \"../../utils/window.js\";\n\nvar imageCache = {};\n\nvar object = {\n    draw: function (context, dataSet, options) {\n        var imageCacheKey = 'http://huiyan.baidu.com/github/tools/gis-drawing/static/images/direction.png';\n        if (options.arrow && options.arrow.url) {\n            imageCacheKey = options.arrow.url;\n        }\n\n        if (!imageCache[imageCacheKey]) {\n            imageCache[imageCacheKey] = null;\n        }\n\n        var directionImage = imageCache[imageCacheKey];\n        \n        if (!directionImage) {\n            var args = Array.prototype.slice.call(arguments);\n            var image = new Image();\n            image.onload = () => {\n                imageCache[imageCacheKey] = image;\n                object.draw.apply(null, args);\n            }\n            image.src = imageCacheKey;\n            return;\n        }\n        \n        var data = dataSet instanceof DataSet ? dataSet.get() : dataSet;\n\n        // console.log('xxxx',options)\n        context.save();\n\n        for (var key in options) {\n            context[key] = options[key];\n        }\n\n\n        var points = [];\n        var preCoordinate = null;\n        for (var i = 0, len = data.length; i < len; i++) {\n\n            var item = data[i];\n\n            context.save();\n\n            if (item.fillStyle || item._fillStyle) {\n                context.fillStyle = item.fillStyle || item._fillStyle;\n            }\n\n            if (item.strokeStyle || item._strokeStyle) {\n                context.strokeStyle = item.strokeStyle || item._strokeStyle;\n            }\n\n            var type = item.geometry.type;\n\n            context.beginPath();\n            if (type === 'LineString') {\n                var coordinates = item.geometry._coordinates || item.geometry.coordinates;\n                var interval = options.arrow.interval !== undefined ? options.arrow.interval : 1;\n                for (var j = 0; j < coordinates.length; j += interval) {\n                    if (coordinates[j] && coordinates[j + 1]) {\n                        var coordinate = coordinates[j];\n\n                        if (preCoordinate && getDistance(coordinate, preCoordinate) < 30) {\n                            continue;\n                        }\n\n                        context.save();\n                        var angle = getAngle(coordinates[j], coordinates[j + 1]);\n                        context.translate(coordinate[0], coordinate[1]);\n                        context.rotate((angle) * Math.PI / 180);\n                        context.drawImage(directionImage, -directionImage.width / 2 / 2, -directionImage.height / 2 / 2, directionImage.width / 2, directionImage.height / 2);\n                        context.restore();\n\n                        points.push(coordinate);\n                        preCoordinate = coordinate;\n                    }\n                }\n            }\n\n            context.restore();\n\n        };\n\n        context.restore();\n\n    }\n}\n\nfunction getDistance(coordinateA, coordinateB) {\n    return Math.sqrt(Math.pow(coordinateA[0] - coordinateB[0], 2) + Math.pow(coordinateA[1] - coordinateB[1], 2));\n}\n\nexport default object;\n","/**\n * @author Mofei Zhu<mapv@zhuwenlong.com>\n * This file is to draw text\n */\n\nimport pathSimple from \"../path/simple\";\nimport drawSimple from \"./simple\";\nimport clear from \"../clear\";\nimport DataSet from \"../../data/DataSet\";\n\nexport default {\n    draw: function (context, dataSet, options) {\n        var data = dataSet instanceof DataSet ? dataSet.get() : dataSet;\n        context.save();\n\n        context.fillStyle = options.fillStyle || 'rgba(0, 0, 0, 0.5)';\n        context.fillRect(0, 0, context.canvas.width, context.canvas.height);\n\n        options.multiPolygonDraw = function() {\n            context.save();\n            context.clip();\n            clear(context);\n            context.restore();\n        }\n\n        for (var i = 0, len = data.length; i < len; i++) {\n\n            context.beginPath();\n\n            pathSimple.drawDataSet(context, [data[i]], options);\n            context.save();\n            context.clip();\n            clear(context);\n            context.restore();\n        };\n\n        context.restore();\n\n    }\n}\n","/**\n * @author Mofei Zhu<mapv@zhuwenlong.com>\n * This file is to draw text\n */\n\nimport pathSimple from \"../path/simple\";\nimport DataSet from \"../../data/DataSet\";\n\nexport default {\n    draw: function (context, dataSet, options) {\n\n        var data = dataSet instanceof DataSet ? dataSet.get() : dataSet;\n        context.save();\n\n        // set from options\n        for (var key in options) {\n            context[key] = options[key];\n        }\n\n        var offset = options.offset || {\n            x: 0,\n            y: 0\n        };\n\n        var rects = [];\n            \n        var size = options._size || options.size;\n        if (size) {\n            context.font = \"bold \" + size + \"px Arial\";\n        } else {\n            size = 12;\n        }\n\n        var textKey = options.textKey || 'text';\n\n        if (!options.textAlign) {\n            context.textAlign = 'center';\n        }\n\n        if (!options.textBaseline) {\n            context.textBaseline = 'middle';\n        }\n\n        if (options.avoid) { // 标注避让\n            for (var i = 0, len = data.length; i < len; i++) {\n                var coordinates = data[i].geometry._coordinates || data[i].geometry.coordinates;\n                var x = coordinates[0] + offset.x;\n                var y = coordinates[1] + offset.y;\n                var text = data[i][textKey];\n                var textWidth = context.measureText(text).width;\n\n                // 根据文本宽度和高度调整x，y位置，使得绘制文本时候坐标点在文本中心点，这个计算出的是左上角坐标\n                var px = x - textWidth / 2; \n                var py = y - size / 2;\n\n                var rect = {\n                    sw: {\n                        x: px,\n                        y: py + size\n                    },\n                    ne: {\n                        x: px + textWidth,\n                        y: py \n                    }\n                }\n\n                if (!hasOverlay(rects, rect)) {\n                    rects.push(rect);\n                    px = px + textWidth / 2;\n                    py = py + size / 2;\n                    context.fillText(text, px, py);\n                }\n\n            };\n        } else {\n            for (var i = 0, len = data.length; i < len; i++) {\n                var coordinates = data[i].geometry._coordinates || data[i].geometry.coordinates;\n                var x = coordinates[0] + offset.x;\n                var y = coordinates[1] + offset.y;\n                var text = data[i][textKey];\n                context.fillText(text, x, y);\n            };\n        }\n\n        context.restore();\n    }\n\n}\n\n/*\n *  当前文字区域和已有的文字区域是否有重叠部分\n */\nfunction hasOverlay(rects, overlay) {\n    for (var i = 0; i < rects.length; i++) {\n        if (isRectOverlay(rects[i], overlay)) {\n            return true;\n        }\n    }\n    return false;\n}\n\n//判断2个矩形是否有重叠部分\nfunction isRectOverlay(rect1, rect2) {\n    //minx、miny 2个矩形右下角最小的x和y\n    //maxx、maxy 2个矩形左上角最大的x和y\n    var minx = Math.min(rect1.ne.x, rect2.ne.x);\n    var miny = Math.min(rect1.sw.y, rect2.sw.y);\n    var maxx = Math.max(rect1.sw.x, rect2.sw.x);\n    var maxy = Math.max(rect1.ne.y, rect2.ne.y);\n    if (minx > maxx && miny > maxy) {\n        return true;\n    }\n    return false;\n}\n","/**\n * @author Mofei Zhu<mapv@zhuwenlong.com>\n * This file is to draw text\n */\n\nimport pathSimple from \"../path/simple\";\nimport DataSet from \"../../data/DataSet\";\n\nexport default {\n    draw: function (context, dataSet, options) {\n        var data = dataSet instanceof DataSet ? dataSet.get() : dataSet;\n\n        context.fillStyle = 'white';\n        context.textAlign = 'center';\n        context.textBaseline = 'middle';\n\n        var offset = options.offset || {\n            x: 0,\n            y: 0\n        };\n\n        // set from options\n        // for (var key in options) {\n        //     context[key] = options[key];\n        // }\n        // console.log(data)\n        for (var i = 0, len = data.length; i < len; i++) {\n\n            if (data[i].geometry) {\n                var deg = data[i].deg || options.deg;\n                var icon = data[i].icon || options.icon;\n                var coordinates = data[i].geometry._coordinates || data[i].geometry.coordinates;\n                var x = coordinates[0];\n                var y = coordinates[1];\n                if (deg) {\n                    context.save();\n                    context.translate(x, y);\n                    context.rotate(deg * Math.PI / 180);\n                    context.translate(-x, -y);\n                }\n                var width = options._width || options.width|| icon.width;\n                var height = options._height || options.height || icon.height;\n                x = x - width / 2 + offset.x;\n                y = y - height / 2 + offset.y;\n                if (options.sx && options.sy && options.swidth && options.sheight && options.width && options.height) {\n                    context.drawImage(icon, options.sx, options.sy, options.swidth, options.sheight, x, y, width, height);\n                } else if (options.width && options.height) {\n                    context.drawImage(icon, x, y, width, height);\n                } else {\n                    context.drawImage(icon, x, y);\n                }\n\n                if (deg) {\n                    context.restore();\n                }\n            }\n\n        };\n    }\n}\n","/**\n * @author kyle / http://nikai.us/\n */\n\nimport DataSet from \"../data/DataSet\";\nimport TWEEN from \"../utils/Tween\";\nimport Intensity from \"../utils/data-range/Intensity\";\nimport Category from \"../utils/data-range/Category\";\nimport Choropleth from \"../utils/data-range/Choropleth\";\nimport drawHeatmap from \"../canvas/draw/heatmap\";\nimport drawArrow from \"../canvas/draw/arrow\";\nimport drawClip from \"../canvas/draw/clip\";\nimport drawSimple from \"../canvas/draw/simple\";\nimport webglDrawSimple from \"../webgl/draw/simple\";\nimport drawGrid from \"../canvas/draw/grid\";\nimport drawHoneycomb from \"../canvas/draw/honeycomb\";\nimport drawText from \"../canvas/draw/text\";\nimport drawIcon from \"../canvas/draw/icon\";\nimport pathSimple from \"../canvas/path/simple\";\nimport clear from \"../canvas/clear\";\n\nif (typeof window !== 'undefined') {\n    requestAnimationFrame(animate);\n}\n\nfunction animate(time) {\n    requestAnimationFrame(animate);\n    TWEEN.update(time);\n}\n\n\n\nclass BaseLayer {\n    constructor(map, dataSet, options) {\n        if (!(dataSet instanceof DataSet)) {\n            dataSet = new DataSet(dataSet);\n        }\n\n        this.dataSet = dataSet;\n        this.map = map;\n    }\n\n    getDefaultContextConfig() {\n        return {\n            globalAlpha: 1,\n            globalCompositeOperation: 'source-over',\n            imageSmoothingEnabled: true,\n            strokeStyle: '#000000',\n            fillStyle: '#000000',\n            shadowOffsetX: 0,\n            shadowOffsetY: 0,\n            shadowBlur: 0,\n            shadowColor: 'rgba(0, 0, 0, 0)',\n            lineWidth: 1,\n            lineCap: 'butt',\n            lineJoin: 'miter',\n            miterLimit: 10,\n            lineDashOffset: 0,\n            font: '10px sans-serif',\n            textAlign: 'start',\n            textBaseline: 'alphabetic'\n        }\n    }\n\n    initDataRange(options) {\n        var self = this;\n        self.intensity = new Intensity({\n            maxSize: self.options.maxSize,\n            minSize: self.options.minSize,\n            gradient: self.options.gradient,\n            max: self.options.max || this.dataSet.getMax('count')\n        });\n        self.category = new Category(self.options.splitList);\n        self.choropleth = new Choropleth(self.options.splitList);\n        if (self.options.splitList === undefined) {\n            self.category.generateByDataSet(this.dataSet, self.options.color);\n        }\n        if (self.options.splitList === undefined) {\n            var min = self.options.min || this.dataSet.getMin('count');\n            var max = self.options.max || this.dataSet.getMax('count');\n            self.choropleth.generateByMinMax(min, max);\n        }\n    }\n\n    getLegend(options) {\n        var draw = this.options.draw;\n        var legend = null;\n        var self = this;\n        if (self.options.draw == 'intensity' || self.options.draw == 'heatmap') {\n            return this.intensity.getLegend(options);\n        } else if (self.options.draw == 'category') {\n            return this.category.getLegend(options);\n        }\n    }\n\n    processData(data) {\n        var self = this;\n        var draw = self.options.draw;\n        if (draw == 'bubble' || draw == 'intensity' || draw == 'category' || draw == 'choropleth' || draw == 'simple') {\n\n            for (var i = 0; i < data.length; i++) {\n                var item = data[i];\n\n                if (self.options.draw == 'bubble') {\n                    data[i]._size = self.intensity.getSize(item.count);\n                } else {\n                    data[i]._size = undefined;\n                }\n\n                var styleType = '_fillStyle';\n\n                if (data[i].geometry.type === 'LineString' || self.options.styleType === 'stroke') {\n                    styleType = '_strokeStyle';\n                }\n\n                if (self.options.draw == 'intensity') {\n                    data[i][styleType] = self.intensity.getColor(item.count);\n                } else if (self.options.draw == 'category') {\n                    data[i][styleType] = self.category.get(item.count);\n                } else if (self.options.draw == 'choropleth') {\n                    data[i][styleType] = self.choropleth.get(item.count);\n                }\n            }\n\n        }\n    }\n\n    isEnabledTime() {\n\n        var animationOptions = this.options.animation;\n\n        var flag = (\n            animationOptions &&\n            !(animationOptions.enabled === false)\n        );\n\n        return flag;\n    }\n\n    argCheck(options) {\n        if (options.draw == 'heatmap') {\n            if (options.strokeStyle) {\n                console.warn('[heatmap] options.strokeStyle is discard, pleause use options.strength [eg: options.strength = 0.1]');\n            }\n        }\n    }\n\n    drawContext(context, dataSet, options, nwPixel) {\n        var self = this;\n        switch (self.options.draw) {\n            case 'heatmap':\n                drawHeatmap.draw(context, dataSet, self.options);\n                break;\n            case 'grid':\n            case 'honeycomb':\n                self.options.offset = {\n                    x: nwPixel.x,\n                    y: nwPixel.y\n                };\n                if (self.options.draw == 'grid') {\n                    drawGrid.draw(context, dataSet, self.options);\n                } else {\n                    drawHoneycomb.draw(context, dataSet, self.options);\n                }\n                break;\n            case 'text':\n                drawText.draw(context, dataSet, self.options);\n                break;\n            case 'icon':\n                drawIcon.draw(context, dataSet, self.options);\n                break;\n            case 'clip':\n                drawClip.draw(context, dataSet, self.options);\n                break;\n            default:\n                if (self.options.context == \"webgl\") {\n                    webglDrawSimple.draw(self.canvasLayer.canvas.getContext('webgl'), dataSet, self.options);\n                } else {\n                    drawSimple.draw(context, dataSet, self.options);\n                }\n        }\n\n        if (self.options.arrow && self.options.arrow.show !== false) {\n            drawArrow.draw(context, dataSet, self.options);\n        }\n    }\n\n    isPointInPath(context, pixel) {\n        var context = this.canvasLayer.canvas.getContext(this.context);\n        var data = this.dataSet.get();\n        for (var i = 0; i < data.length; i++) {\n            context.beginPath();\n            pathSimple.draw(context, data[i], this.options);\n            var x = pixel.x * this.canvasLayer.devicePixelRatio;\n            var y = pixel.y * this.canvasLayer.devicePixelRatio;\n\n            var geoType = data[i].geometry && data[i].geometry.type;\n            if (geoType.indexOf('LineString') > -1) {\n                if (context.isPointInStroke && context.isPointInStroke(x, y)) {\n                    return data[i];\n                }\n            } else {\n                if (context.isPointInPath(x, y)) {\n                    return data[i];\n                }\n            }\n        }\n    }\n\n    clickEvent(pixel, e) {\n        if (!this.options.methods) {\n            return;\n        }\n        var dataItem = this.isPointInPath(this.getContext(), pixel);\n\n        if (dataItem) {\n            this.options.methods.click(dataItem, e);\n        } else {\n            this.options.methods.click(null, e);\n        }\n\n    }\n\n    mousemoveEvent(pixel, e) {\n        if (!this.options.methods) {\n            return;\n        }\n        var dataItem = this.isPointInPath(this.getContext(), pixel);\n        if (dataItem) {\n            this.options.methods.mousemove(dataItem, e);\n        } else {\n            this.options.methods.mousemove(null, e);\n        }\n    }\n\n    /**\n     * obj.options\n     */\n    update(obj, isDraw) {\n        var self = this;\n        var _options = obj.options;\n        var options = self.options;\n        for (var i in _options) {\n            options[i] = _options[i];\n        }\n        self.init(options);\n        if (isDraw !== false) {\n            self.draw();\n        }\n    }\n\n    setOptions(options) {\n        var self = this;\n        self.dataSet.reset();\n        // console.log('xxx1')\n        self.init(options);\n        // console.log('xxx')\n        self.draw();\n    }\n\n    set(obj) {\n        var self = this;\n        var ctx = this.getContext();\n        var conf = this.getDefaultContextConfig();\n        for (var i in conf) {\n            ctx[i] = conf[i];\n        }\n        self.init(obj.options);\n        self.draw();\n    }\n\n    destroy() {\n        this.unbindEvent();\n        this.hide();\n    }\n\n    initAnimator() {\n        var self = this;\n        var animationOptions = self.options.animation;\n\n        if (self.options.draw == 'time' || self.isEnabledTime()) {\n\n            if (!animationOptions.stepsRange) {\n                animationOptions.stepsRange = {\n                    start: this.dataSet.getMin('time') || 0,\n                    end: this.dataSet.getMax('time') || 0\n                }\n            }\n\n            this.steps = { step: animationOptions.stepsRange.start };\n            self.animator = new TWEEN.Tween(this.steps)\n                .onUpdate(function () {\n                    self._canvasUpdate(this.step);\n                })\n                .repeat(Infinity);\n\n            this.addAnimatorEvent();\n\n            var duration = animationOptions.duration * 1000 || 5000;\n\n            self.animator.to({ step: animationOptions.stepsRange.end }, duration);\n            self.animator.start();\n\n        } else {\n            self.animator && self.animator.stop();\n        }\n    }\n\n    addAnimatorEvent() {}\n\n    animatorMovestartEvent() {\n        var animationOptions = this.options.animation;\n        if (this.isEnabledTime() && this.animator) {\n            this.steps.step = animationOptions.stepsRange.start;\n            this.animator.stop();\n        }\n    }\n\n    animatorMoveendEvent() {\n        if (this.isEnabledTime() && this.animator) {\n            this.animator.start();\n        }\n    }\n}\n\nexport default BaseLayer;\n","\nimport clear from \"../../canvas/clear\";\nimport BaseLayer from \"../BaseLayer\";\nimport CanvasLayer from \"./CanvasLayer\";\n\nclass AnimationLayer extends BaseLayer{\n    constructor (map, dataSet, options) {\n\n        super(map, dataSet, options);\n\n        this.map = map;\n        this.options = options || {};\n        this.dataSet = dataSet;\n\n        var canvasLayer = new CanvasLayer({\n            map: map,\n            zIndex: this.options.zIndex,\n            update: this._canvasUpdate.bind(this)\n        });\n\n        this.init(this.options);\n\n        this.canvasLayer = canvasLayer;\n        this.transferToMercator();\n        var self = this;\n        dataSet.on('change', function() {\n            self.transferToMercator();\n            canvasLayer.draw();\n        });\n        this.ctx = canvasLayer.canvas.getContext('2d');\n\n        this.start();\n    }\n\n    draw() {\n        this.canvasLayer.draw();\n    }\n\n    init(options) {\n\n        var self = this;\n        self.options = options;\n        this.initDataRange(options);\n        this.context = self.options.context || '2d';\n\n        if (self.options.zIndex) {\n            this.canvasLayer && this.canvasLayer.setZIndex(self.options.zIndex);\n        }\n\n        if (self.options.max) {\n            this.intensity.setMax(self.options.max);\n        }\n\n        if (self.options.min) {\n            this.intensity.setMin(self.options.min);\n        }\n\n        this.initAnimator();\n        \n    }\n\n    // 经纬度左边转换为墨卡托坐标\n    transferToMercator() {\n        var projection = this.map.getMapType().getProjection();\n\n        if (this.options.coordType !== 'bd09mc') {\n            var data = this.dataSet.get();\n            data = this.dataSet.transferCoordinate(data, function(coordinates) {\n                var pixel = projection.lngLatToPoint({\n                    lng: coordinates[0],\n                    lat: coordinates[1]\n                });\n                return [pixel.x, pixel.y];\n            }, 'coordinates', 'coordinates_mercator');\n            this.dataSet._set(data);\n        }\n    }\n\n    _canvasUpdate() {\n        var ctx = this.ctx;\n        if (!ctx) {\n            return;\n        }\n        //clear(ctx);\n        var map = this.map;\n        var zoomUnit = Math.pow(2, 18 - map.getZoom());\n        var projection = map.getMapType().getProjection();\n\n        var mcCenter = projection.lngLatToPoint(map.getCenter());\n        var nwMc = new BMap.Pixel(mcCenter.x - (map.getSize().width / 2) * zoomUnit, mcCenter.y + (map.getSize().height / 2) * zoomUnit); //左上角墨卡托坐标\n\n        clear(ctx);\n\n        var dataGetOptions = {\n            fromColumn: this.options.coordType == 'bd09mc' ? 'coordinates' : 'coordinates_mercator',\n            transferCoordinate: function(coordinate) {\n                if (!coordinate) {\n                    return;\n                }\n                var x = (coordinate[0] - nwMc.x) / zoomUnit;\n                var y = (nwMc.y - coordinate[1]) / zoomUnit;\n                return [x, y];\n            }\n        }\n\n        this.data = this.dataSet.get(dataGetOptions);\n\n        this.processData(this.data);\n\n        this.drawAnimation();\n    }\n\n    drawAnimation() {\n        var ctx = this.ctx;\n        var data = this.data;\n        if (!data) {\n            return;\n        }\n\n        ctx.save();\n        ctx.globalCompositeOperation = 'destination-out';\n        ctx.fillStyle = 'rgba(0, 0, 0, .1)';\n        ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n        ctx.restore();\n\n        ctx.save();\n        if (this.options.shadowColor) {\n            ctx.shadowColor = this.options.shadowColor;\n        }\n\n        if (this.options.shadowBlur) {\n            ctx.shadowBlur = this.options.shadowBlur;\n        }\n\n        if (this.options.globalAlpha) {\n            ctx.globalAlpha = this.options.globalAlpha;\n        }\n\n        if (this.options.globalCompositeOperation) {\n            ctx.globalCompositeOperation = this.options.globalCompositeOperation;\n        }\n\n        var options = this.options;\n        for (var i = 0; i < data.length; i++) {\n            if (data[i].geometry.type === 'Point') {\n                ctx.beginPath();\n                var maxSize = data[i].size || this.options.size;\n                var minSize = data[i].minSize || this.options.minSize || 0;\n                if (data[i]._size === undefined) {\n                    data[i]._size = minSize;\n                }\n                ctx.arc(data[i].geometry._coordinates[0], data[i].geometry._coordinates[1], data[i]._size, 0, Math.PI * 2, true);\n                ctx.closePath();\n\n                data[i]._size++;\n\n                if (data[i]._size > maxSize) {\n                    data[i]._size = minSize;\n                }\n                ctx.lineWidth = 1;\n                ctx.strokeStyle = data[i].strokeStyle || data[i]._strokeStyle || options.strokeStyle || 'yellow';\n                ctx.stroke();\n                var fillStyle = data[i].fillStyle || data[i]._fillStyle || options.fillStyle;\n                if (fillStyle) {\n                    ctx.fillStyle = fillStyle;\n                    ctx.fill();\n                }\n            } else if (data[i].geometry.type === 'LineString') {\n                ctx.beginPath();\n                var size = data[i].size || this.options.size || 5;\n                var minSize = data[i].minSize || this.options.minSize || 0;\n                if (data[i]._index === undefined) {\n                    data[i]._index = 0;\n                }\n                var index = data[i]._index;\n                ctx.arc(data[i].geometry._coordinates[index][0], data[i].geometry._coordinates[index][1], size, 0, Math.PI * 2, true);\n                ctx.closePath();\n\n                data[i]._index++;\n\n                if (data[i]._index >= data[i].geometry._coordinates.length) {\n                    data[i]._index = 0;\n                }\n\n                var strokeStyle = data[i].strokeStyle || options.strokeStyle;\n                var fillStyle = data[i].fillStyle || options.fillStyle || 'yellow';\n                ctx.fillStyle = fillStyle;\n                ctx.fill();\n                if (strokeStyle && options.lineWidth) {\n                    ctx.lineWidth = options.lineWidth || 1;\n                    ctx.strokeStyle = strokeStyle;\n                    ctx.stroke();\n                }\n            }\n        }\n        ctx.restore();\n    }\n\n    animate() {\n        this.drawAnimation();\n        var animateTime = this.options.animateTime || 100;\n        this.timeout = setTimeout(this.animate.bind(this), animateTime);\n    }\n\n    start() {\n        this.stop();\n        this.animate();\n    }\n\n    stop() {\n        clearTimeout(this.timeout);\n    }\n\n    unbindEvent() {\n    }\n\n    hide() {\n        this.canvasLayer.hide();\n        this.stop();\n    }\n\n    show() {\n        this.start();\n    }\n}\n\nexport default AnimationLayer;\n","/**\n * @author kyle / http://nikai.us/\n */\n\nimport BaseLayer from \"../BaseLayer\";\nimport CanvasLayer from \"./CanvasLayer\";\nimport clear from \"../../canvas/clear\";\nimport DataSet from \"../../data/DataSet\";\nimport TWEEN from \"../../utils/Tween\";\n\nclass Layer extends BaseLayer{\n\n    constructor(map, dataSet, options) {\n\n        super(map, dataSet, options);\n\n        var self = this;\n        var data = null;\n        options = options || {};\n\n        this.clickEvent = this.clickEvent.bind(this);\n        this.mousemoveEvent = this.mousemoveEvent.bind(this);\n\n        self.init(options);\n        self.argCheck(options);\n        self.transferToMercator();\n\n        var canvasLayer = this.canvasLayer = new CanvasLayer({\n            map: map,\n            context: this.context,\n            paneName: options.paneName,\n            mixBlendMode: options.mixBlendMode,\n            enableMassClear: options.enableMassClear,\n            zIndex: options.zIndex,\n            update: function() {\n                self._canvasUpdate();\n            }\n        });\n\n        dataSet.on('change', function() {\n            self.transferToMercator();\n            canvasLayer.draw();\n        });\n\n    }\n\n    clickEvent(e) {\n        var pixel = e.pixel;\n        super.clickEvent(pixel, e);\n    }\n\n    mousemoveEvent(e) {\n        var pixel = e.pixel;\n        super.mousemoveEvent(pixel, e);\n    }\n\n    bindEvent(e) {\n        this.unbindEvent();\n        var map = this.map;\n\n        if (this.options.methods) {\n            if (this.options.methods.click) {\n                map.setDefaultCursor(\"default\");\n                map.addEventListener('click', this.clickEvent);\n            }\n            if (this.options.methods.mousemove) {\n                map.addEventListener('mousemove', this.mousemoveEvent);\n            }\n        }\n    }\n\n    unbindEvent(e) {\n        var map = this.map;\n\n        if (this.options.methods) {\n            if (this.options.methods.click) {\n                map.removeEventListener('click', this.clickEvent);\n            }\n            if (this.options.methods.mousemove) {\n                map.removeEventListener('mousemove', this.mousemoveEvent);\n            }\n        }\n    }\n\n    // 经纬度左边转换为墨卡托坐标\n    transferToMercator() {\n        var projection = this.map.getMapType().getProjection();\n\n        if (this.options.coordType !== 'bd09mc') {\n            var data = this.dataSet.get();\n            data = this.dataSet.transferCoordinate(data, function(coordinates) {\n                if (coordinates[0] < -180 || coordinates[0] > 180 || coordinates[1] < -90 || coordinates[1] > 90) {\n                    return coordinates;\n                } else {\n                    var pixel = projection.lngLatToPoint({\n                        lng: coordinates[0],\n                        lat: coordinates[1]\n                    });\n                    return [pixel.x, pixel.y];\n                }\n            }, 'coordinates', 'coordinates_mercator');\n            this.dataSet._set(data);\n        }\n    }\n\n    getContext() {\n        return this.canvasLayer.canvas.getContext(this.context);\n    }\n\n    _canvasUpdate(time) {\n        if (!this.canvasLayer) {\n            return;\n        }\n\n        var self = this;\n        \n        // 动画配置项 options.animation\n        var animationOptions = self.options.animation;\n        \n        // map 对象\n        var map = this.canvasLayer._map;\n        \n        // 当前比例尺和投影对象\n        var zoomUnit = Math.pow(2, 18 - map.getZoom());\n        var projection = map.getMapType().getProjection();\n        \n        // 墨卡托平面左上角坐标\n        var mcCenter = projection.lngLatToPoint(map.getCenter());\n        var nwMc = new BMap.Pixel(mcCenter.x - (map.getSize().width / 2) * zoomUnit, mcCenter.y + (map.getSize().height / 2) * zoomUnit); //左上角墨卡托坐标\n\n        var context = this.getContext();\n        \n        // 是否开启了动画\n        if (self.isEnabledTime()) {\n            // 如果时间不存在，清空画布并退出\n            if (time === undefined) {\n                clear(context);\n                return;\n            }\n            // 加尾迹效果\n            if (this.context == '2d') {\n                context.save();\n                context.globalCompositeOperation = 'destination-out';\n                context.fillStyle = 'rgba(0, 0, 0, .1)';\n                context.fillRect(0, 0, context.canvas.width, context.canvas.height);\n                context.restore();\n            }\n        } else {\n            clear(context);\n        }\n\n        if (this.context == '2d') {\n            // 如果是2d渲染，将配置项的属性设置到 canvas 的上下文\n            for (var key in self.options) {\n                context[key] = self.options[key];\n            }\n        } else {\n            context.clear(context.COLOR_BUFFER_BIT);\n        }\n        \n        // 如果地图级别超出范围，退出\n        if (self.options.minZoom && map.getZoom() < self.options.minZoom || self.options.maxZoom && map.getZoom() > self.options.maxZoom) {\n            return;\n        }\n\n        var scale = 1;\n        if (this.context != '2d') {\n            scale = this.canvasLayer.devicePixelRatio;\n        }\n\n        var dataGetOptions = {\n            fromColumn: self.options.coordType == 'bd09mc' ? 'coordinates' : 'coordinates_mercator',\n            transferCoordinate: function(coordinate) {\n                var x = (coordinate[0] - nwMc.x) / zoomUnit * scale;\n                var y = (nwMc.y - coordinate[1]) / zoomUnit * scale;\n                return [x, y];\n            }\n        }\n\n        if (time !== undefined) {\n            dataGetOptions.filter = function(item) {\n                var trails = animationOptions.trails || 10;\n                if (time && item.time > (time - trails) && item.time < time) {\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n        }\n\n        // get data from data set\n        var data = self.dataSet.get(dataGetOptions);\n\n        this.processData(data);\n\n        var nwPixel = map.pointToPixel(new BMap.Point(0, 0));\n\n        if (self.options.unit == 'm') {\n            if (self.options.size) {\n                self.options._size = self.options.size / zoomUnit;\n            }\n            if (self.options.width) {\n                self.options._width = self.options.width / zoomUnit;\n            }\n            if (self.options.height) {\n                self.options._height = self.options.height / zoomUnit;\n            }\n        } else {\n            self.options._size = self.options.size;\n            self.options._height = self.options.height;\n            self.options._width = self.options.width;\n        }\n\n        this.drawContext(context, data, self.options, nwPixel);\n\n        //console.timeEnd('draw');\n\n        //console.timeEnd('update')\n        self.options.updateCallback && self.options.updateCallback(time);\n    }\n\n    init(options) {\n\n        var self = this;\n        self.options = options;\n        this.initDataRange(options);\n        this.context = self.options.context || '2d';\n\n        if (self.options.zIndex) {\n            this.canvasLayer && this.canvasLayer.setZIndex(self.options.zIndex);\n        }\n\n        if (self.options.max) {\n            this.intensity.setMax(self.options.max);\n        }\n\n        if (self.options.min) {\n            this.intensity.setMin(self.options.min);\n        }\n\n        this.initAnimator();\n        this.bindEvent();\n        \n    }\n\n    addAnimatorEvent() {\n        this.map.addEventListener('movestart', this.animatorMovestartEvent.bind(this));\n        this.map.addEventListener('moveend', this.animatorMoveendEvent.bind(this));\n    }\n\n    show() {\n        this.map.addOverlay(this.canvasLayer);\n    }\n\n    hide() {\n        this.map.removeOverlay(this.canvasLayer);\n    }\n\n    draw() {\n        this.canvasLayer.draw();\n    }\n}\n\nexport default Layer;\n","/**\n * Copyright 2012 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Extends OverlayView to provide a canvas \"Layer\".\n * @author Brendan Kenny\n */\n\n/**\n * A map layer that provides a canvas over the slippy map and a callback\n * system for efficient animation. Requires canvas and CSS 2D transform\n * support.\n * @constructor\n * @extends google.maps.OverlayView\n * @param {CanvasLayerOptions=} opt_options Options to set in this CanvasLayer.\n */\nfunction CanvasLayer(opt_options) {\n  /**\n   * If true, canvas is in a map pane and the OverlayView is fully functional.\n   * See google.maps.OverlayView.onAdd for more information.\n   * @type {boolean}\n   * @private\n   */\n  this.isAdded_ = false;\n\n  /**\n   * If true, each update will immediately schedule the next.\n   * @type {boolean}\n   * @private\n   */\n  this.isAnimated_ = false;\n\n  /**\n   * The name of the MapPane in which this layer will be displayed.\n   * @type {string}\n   * @private\n   */\n  this.paneName_ = CanvasLayer.DEFAULT_PANE_NAME_;\n\n  /**\n   * A user-supplied function called whenever an update is required. Null or\n   * undefined if a callback is not provided.\n   * @type {?function=}\n   * @private\n   */\n  this.updateHandler_ = null;\n\n  /**\n   * A user-supplied function called whenever an update is required and the\n   * map has been resized since the last update. Null or undefined if a\n   * callback is not provided.\n   * @type {?function}\n   * @private\n   */\n  this.resizeHandler_ = null;\n\n  /**\n   * The LatLng coordinate of the top left of the current view of the map. Will\n   * be null when this.isAdded_ is false.\n   * @type {google.maps.LatLng}\n   * @private\n   */\n  this.topLeft_ = null;\n\n  /**\n   * The map-pan event listener. Will be null when this.isAdded_ is false. Will\n   * be null when this.isAdded_ is false.\n   * @type {?function}\n   * @private\n   */\n  this.centerListener_ = null;\n\n  /**\n   * The map-resize event listener. Will be null when this.isAdded_ is false.\n   * @type {?function}\n   * @private\n   */\n  this.resizeListener_ = null;\n\n  /**\n   * If true, the map size has changed and this.resizeHandler_ must be called\n   * on the next update.\n   * @type {boolean}\n   * @private\n   */\n  this.needsResize_ = true;\n\n  /**\n   * A browser-defined id for the currently requested callback. Null when no\n   * callback is queued.\n   * @type {?number}\n   * @private\n   */\n  this.requestAnimationFrameId_ = null;\n\n  var canvas = document.createElement('canvas');\n  canvas.style.position = 'absolute';\n  canvas.style.top = 0;\n  canvas.style.left = 0;\n  canvas.style.pointerEvents = 'none';\n\n  /**\n   * The canvas element.\n   * @type {!HTMLCanvasElement}\n   */\n  this.canvas = canvas;\n\n  /**\n   * The CSS width of the canvas, which may be different than the width of the\n   * backing store.\n   * @private {number}\n   */\n  this.canvasCssWidth_ = 300;\n\n  /**\n   * The CSS height of the canvas, which may be different than the height of\n   * the backing store.\n   * @private {number}\n   */\n  this.canvasCssHeight_ = 150;\n\n  /**\n   * A value for scaling the CanvasLayer resolution relative to the CanvasLayer\n   * display size.\n   * @private {number}\n   */\n  this.resolutionScale_ = 1;\n\n  /**\n   * Simple bind for functions with no args for bind-less browsers (Safari).\n   * @param {Object} thisArg The this value used for the target function.\n   * @param {function} func The function to be bound.\n   */\n  function simpleBindShim(thisArg, func) {\n    return function() { func.apply(thisArg); };\n  }\n\n  /**\n   * A reference to this.repositionCanvas_ with this bound as its this value.\n   * @type {function}\n   * @private\n   */\n  this.repositionFunction_ = simpleBindShim(this, this.repositionCanvas_);\n\n  /**\n   * A reference to this.resize_ with this bound as its this value.\n   * @type {function}\n   * @private\n   */\n  this.resizeFunction_ = simpleBindShim(this, this.resize_);\n\n  /**\n   * A reference to this.update_ with this bound as its this value.\n   * @type {function}\n   * @private\n   */\n  this.requestUpdateFunction_ = simpleBindShim(this, this.update_);\n\n  // set provided options, if any\n  if (opt_options) {\n    this.setOptions(opt_options);\n  }\n}\n\n\nvar global = typeof window === 'undefined' ? {} : window;\n\nif (global.google && global.google.maps) {\n\nCanvasLayer.prototype = new google.maps.OverlayView();\n\n/**\n * The default MapPane to contain the canvas.\n * @type {string}\n * @const\n * @private\n */\nCanvasLayer.DEFAULT_PANE_NAME_ = 'overlayLayer';\n\n/**\n * Transform CSS property name, with vendor prefix if required. If browser\n * does not support transforms, property will be ignored.\n * @type {string}\n * @const\n * @private\n */\nCanvasLayer.CSS_TRANSFORM_ = (function() {\n  var div = document.createElement('div');\n  var transformProps = [\n    'transform',\n    'WebkitTransform',\n    'MozTransform',\n    'OTransform',\n    'msTransform'\n  ];\n  for (var i = 0; i < transformProps.length; i++) {\n    var prop = transformProps[i];\n    if (div.style[prop] !== undefined) {\n      return prop;\n    }\n  }\n\n  // return unprefixed version by default\n  return transformProps[0];\n})();\n\n/**\n * The requestAnimationFrame function, with vendor-prefixed or setTimeout-based\n * fallbacks. MUST be called with window as thisArg.\n * @type {function}\n * @param {function} callback The function to add to the frame request queue.\n * @return {number} The browser-defined id for the requested callback.\n * @private\n */\nCanvasLayer.prototype.requestAnimFrame_ =\n    global.requestAnimationFrame ||\n    global.webkitRequestAnimationFrame ||\n    global.mozRequestAnimationFrame ||\n    global.oRequestAnimationFrame ||\n    global.msRequestAnimationFrame ||\n    function(callback) {\n      return global.setTimeout(callback, 1000 / 60);\n    };\n\n/**\n * The cancelAnimationFrame function, with vendor-prefixed fallback. Does not\n * fall back to clearTimeout as some platforms implement requestAnimationFrame\n * but not cancelAnimationFrame, and the cost is an extra frame on onRemove.\n * MUST be called with window as thisArg.\n * @type {function}\n * @param {number=} requestId The id of the frame request to cancel.\n * @private\n */\nCanvasLayer.prototype.cancelAnimFrame_ =\n    global.cancelAnimationFrame ||\n    global.webkitCancelAnimationFrame ||\n    global.mozCancelAnimationFrame ||\n    global.oCancelAnimationFrame ||\n    global.msCancelAnimationFrame ||\n    function(requestId) {};\n\n/**\n * Sets any options provided. See CanvasLayerOptions for more information.\n * @param {CanvasLayerOptions} options The options to set.\n */\nCanvasLayer.prototype.setOptions = function(options) {\n  if (options.animate !== undefined) {\n    this.setAnimate(options.animate);\n  }\n\n  if (options.paneName !== undefined) {\n    this.setPaneName(options.paneName);\n  }\n\n  if (options.updateHandler !== undefined) {\n    this.setUpdateHandler(options.updateHandler);\n  }\n\n  if (options.resizeHandler !== undefined) {\n    this.setResizeHandler(options.resizeHandler);\n  }\n\n  if (options.resolutionScale !== undefined) {\n    this.setResolutionScale(options.resolutionScale);\n  }\n\n  if (options.map !== undefined) {\n    this.setMap(options.map);\n  }\n};\n\n/**\n * Set the animated state of the layer. If true, updateHandler will be called\n * repeatedly, once per frame. If false, updateHandler will only be called when\n * a map property changes that could require the canvas content to be redrawn.\n * @param {boolean} animate Whether the canvas is animated.\n */\nCanvasLayer.prototype.setAnimate = function(animate) {\n  this.isAnimated_ = !!animate;\n\n  if (this.isAnimated_) {\n    this.scheduleUpdate();\n  }\n};\n\n/**\n * @return {boolean} Whether the canvas is animated.\n */\nCanvasLayer.prototype.isAnimated = function() {\n  return this.isAnimated_;\n};\n\n/**\n * Set the MapPane in which this layer will be displayed, by name. See\n * {@code google.maps.MapPanes} for the panes available.\n * @param {string} paneName The name of the desired MapPane.\n */\nCanvasLayer.prototype.setPaneName = function(paneName) {\n  this.paneName_ = paneName;\n\n  this.setPane_();\n};\n\n/**\n * @return {string} The name of the current container pane.\n */\nCanvasLayer.prototype.getPaneName = function() {\n  return this.paneName_;\n};\n\n/**\n * Adds the canvas to the specified container pane. Since this is guaranteed to\n * execute only after onAdd is called, this is when paneName's existence is\n * checked (and an error is thrown if it doesn't exist).\n * @private\n */\nCanvasLayer.prototype.setPane_ = function() {\n  if (!this.isAdded_) {\n    return;\n  }\n\n  // onAdd has been called, so panes can be used\n  var panes = this.getPanes();\n  if (!panes[this.paneName_]) {\n    throw new Error('\"' + this.paneName_ + '\" is not a valid MapPane name.');\n  }\n\n  panes[this.paneName_].appendChild(this.canvas);\n};\n\n/**\n * Set a function that will be called whenever the parent map and the overlay's\n * canvas have been resized. If opt_resizeHandler is null or unspecified, any\n * existing callback is removed.\n * @param {?function=} opt_resizeHandler The resize callback function.\n */\nCanvasLayer.prototype.setResizeHandler = function(opt_resizeHandler) {\n  this.resizeHandler_ = opt_resizeHandler;\n};\n\n/**\n * Sets a value for scaling the canvas resolution relative to the canvas\n * display size. This can be used to save computation by scaling the backing\n * buffer down, or to support high DPI devices by scaling it up (by e.g.\n * window.devicePixelRatio).\n * @param {number} scale\n */\nCanvasLayer.prototype.setResolutionScale = function(scale) {\n  if (typeof scale === 'number') {\n    this.resolutionScale_ = scale;\n    this.resize_();\n  }\n};\n\n/**\n * Set a function that will be called when a repaint of the canvas is required.\n * If opt_updateHandler is null or unspecified, any existing callback is\n * removed.\n * @param {?function=} opt_updateHandler The update callback function.\n */\nCanvasLayer.prototype.setUpdateHandler = function(opt_updateHandler) {\n  this.updateHandler_ = opt_updateHandler;\n};\n\n/**\n * @inheritDoc\n */\nCanvasLayer.prototype.onAdd = function() {\n  if (this.isAdded_) {\n    return;\n  }\n\n  this.isAdded_ = true;\n  this.setPane_();\n\n  this.resizeListener_ = google.maps.event.addListener(this.getMap(),\n      'resize', this.resizeFunction_);\n  this.centerListener_ = google.maps.event.addListener(this.getMap(),\n      'center_changed', this.repositionFunction_);\n\n  this.resize_();\n  this.repositionCanvas_();\n};\n\n/**\n * @inheritDoc\n */\nCanvasLayer.prototype.onRemove = function() {\n  if (!this.isAdded_) {\n    return;\n  }\n\n  this.isAdded_ = false;\n  this.topLeft_ = null;\n\n  // remove canvas and listeners for pan and resize from map\n  this.canvas.parentElement.removeChild(this.canvas);\n  if (this.centerListener_) {\n    google.maps.event.removeListener(this.centerListener_);\n    this.centerListener_ = null;\n  }\n  if (this.resizeListener_) {\n    google.maps.event.removeListener(this.resizeListener_);\n    this.resizeListener_ = null;\n  }\n\n  // cease canvas update callbacks\n  if (this.requestAnimationFrameId_) {\n    this.cancelAnimFrame_.call(global, this.requestAnimationFrameId_);\n    this.requestAnimationFrameId_ = null;\n  }\n};\n\n/**\n * The internal callback for resize events that resizes the canvas to keep the\n * map properly covered.\n * @private\n */\nCanvasLayer.prototype.resize_ = function() {\n  if (!this.isAdded_) {\n    return;\n  }\n\n  var map = this.getMap();\n  var mapWidth = map.getDiv().offsetWidth;\n  var mapHeight = map.getDiv().offsetHeight;\n\n  var newWidth = mapWidth * this.resolutionScale_;\n  var newHeight = mapHeight * this.resolutionScale_;\n  var oldWidth = this.canvas.width;\n  var oldHeight = this.canvas.height;\n\n  // resizing may allocate a new back buffer, so do so conservatively\n  if (oldWidth !== newWidth || oldHeight !== newHeight) {\n    this.canvas.width = newWidth;\n    this.canvas.height = newHeight;\n\n    this.needsResize_ = true;\n    this.scheduleUpdate();\n  }\n\n  // reset styling if new sizes don't match; resize of data not needed\n  if (this.canvasCssWidth_ !== mapWidth ||\n      this.canvasCssHeight_ !== mapHeight) {\n    this.canvasCssWidth_ = mapWidth;\n    this.canvasCssHeight_ = mapHeight;\n    this.canvas.style.width = mapWidth + 'px';\n    this.canvas.style.height = mapHeight + 'px';\n  }\n};\n\n/**\n * @inheritDoc\n */\nCanvasLayer.prototype.draw = function() {\n  this.repositionCanvas_();\n};\n\n/**\n * Internal callback for map view changes. Since the Maps API moves the overlay\n * along with the map, this function calculates the opposite translation to\n * keep the canvas in place.\n * @private\n */\nCanvasLayer.prototype.repositionCanvas_ = function() {\n  // TODO(bckenny): *should* only be executed on RAF, but in current browsers\n  //     this causes noticeable hitches in map and overlay relative\n  //     positioning.\n\n  var map = this.getMap();\n\n  // topLeft can't be calculated from map.getBounds(), because bounds are\n  // clamped to -180 and 180 when completely zoomed out. Instead, calculate\n  // left as an offset from the center, which is an unwrapped LatLng.\n  var top = map.getBounds().getNorthEast().lat();\n  var center = map.getCenter();\n  var scale = Math.pow(2, map.getZoom());\n  var left = center.lng() - (this.canvasCssWidth_ * 180) / (256 * scale);\n  this.topLeft_ = new google.maps.LatLng(top, left);\n\n  // Canvas position relative to draggable map's container depends on\n  // overlayView's projection, not the map's. Have to use the center of the\n  // map for this, not the top left, for the same reason as above.\n  var projection = this.getProjection();\n  var divCenter = projection.fromLatLngToDivPixel(center);\n  var offsetX = -Math.round(this.canvasCssWidth_ / 2 - divCenter.x);\n  var offsetY = -Math.round(this.canvasCssHeight_ / 2 - divCenter.y);\n  this.canvas.style[CanvasLayer.CSS_TRANSFORM_] = 'translate(' +\n      offsetX + 'px,' + offsetY + 'px)';\n\n  this.scheduleUpdate();\n};\n\n/**\n * Internal callback that serves as main animation scheduler via\n * requestAnimationFrame. Calls resize and update callbacks if set, and\n * schedules the next frame if overlay is animated.\n * @private\n */\nCanvasLayer.prototype.update_ = function() {\n  this.requestAnimationFrameId_ = null;\n\n  if (!this.isAdded_) {\n    return;\n  }\n\n  if (this.isAnimated_) {\n    this.scheduleUpdate();\n  }\n\n  if (this.needsResize_ && this.resizeHandler_) {\n    this.needsResize_ = false;\n    this.resizeHandler_();\n  }\n\n  if (this.updateHandler_) {\n    this.updateHandler_();\n  }\n};\n\n/**\n * A convenience method to get the current LatLng coordinate of the top left of\n * the current view of the map.\n * @return {google.maps.LatLng} The top left coordinate.\n */\nCanvasLayer.prototype.getTopLeft = function() {\n  return this.topLeft_;\n};\n\n/**\n * Schedule a requestAnimationFrame callback to updateHandler. If one is\n * already scheduled, there is no effect.\n */\nCanvasLayer.prototype.scheduleUpdate = function() {\n  if (this.isAdded_ && !this.requestAnimationFrameId_) {\n    this.requestAnimationFrameId_ =\n        this.requestAnimFrame_.call(global, this.requestUpdateFunction_);\n  }\n};\n\n}\n\nexport default CanvasLayer;\n","/**\n * @author kyle / http://nikai.us/\n */\n\nimport BaseLayer from \"../BaseLayer\";\nimport CanvasLayer from \"./CanvasLayer\";\nimport clear from \"../../canvas/clear\";\nimport DataSet from \"../../data/DataSet\";\nimport TWEEN from \"../../utils/Tween\";\n\nclass Layer extends BaseLayer{\n\n    constructor(map, dataSet, options) {\n\n        super(map, dataSet, options);\n\n        var self = this;\n        var data = null;\n        options = options || {};\n\n        self.init(options);\n        self.argCheck(options);\n\n        var canvasLayerOptions = {\n            map: map,\n            animate: false,\n            updateHandler: function() {\n                self._canvasUpdate();\n            },\n            resolutionScale: resolutionScale\n        };\n\n        var canvasLayer = this.canvasLayer = new CanvasLayer(canvasLayerOptions);\n\n        this.clickEvent = this.clickEvent.bind(this);\n        this.mousemoveEvent = this.mousemoveEvent.bind(this);\n        this.bindEvent();\n    }\n\n    clickEvent(e) {\n        var pixel = e.pixel;\n        super.clickEvent(pixel, e);\n    }\n\n    mousemoveEvent(e) {\n        var pixel = e.pixel;\n        super.mousemoveEvent(pixel, e);\n    }\n\n    bindEvent(e) {\n        var map = this.map;\n\n        if (this.options.methods) {\n            if (this.options.methods.click) {\n                map.setDefaultCursor(\"default\");\n                map.addListener('click', this.clickEvent);\n            }\n            if (this.options.methods.mousemove) {\n                map.addListener('mousemove', this.mousemoveEvent);\n            }\n        }\n    }\n\n    unbindEvent(e) {\n        var map = this.map;\n\n        if (this.options.methods) {\n            if (this.options.methods.click) {\n                map.removeListener('click', this.clickEvent);\n            }\n            if (this.options.methods.mousemove) {\n                map.removeListener('mousemove', this.mousemoveEvent);\n            }\n        }\n    }\n\n    getContext() {\n        return this.canvasLayer.canvas.getContext(this.context);\n    }\n\n    _canvasUpdate(time) {\n        if (!this.canvasLayer) {\n            return;\n        }\n\n        var self = this;\n\n        var animationOptions = self.options.animation;\n\n        var context = this.getContext();\n\n        if (self.isEnabledTime()) {\n            if (time === undefined) {\n                clear(context);\n                return;\n            }\n            if (this.context == '2d') {\n                context.save();\n                context.globalCompositeOperation = 'destination-out';\n                context.fillStyle = 'rgba(0, 0, 0, .1)';\n                context.fillRect(0, 0, context.canvas.width, context.canvas.height);\n                context.restore();\n            }\n        } else {\n            clear(context);\n        }\n\n        if (this.context == '2d') {\n            for (var key in self.options) {\n                context[key] = self.options[key];\n            }\n        } else {\n            context.clear(context.COLOR_BUFFER_BIT);\n        }\n\n        if (self.options.minZoom && map.getZoom() < self.options.minZoom || self.options.maxZoom && map.getZoom() > self.options.maxZoom) {\n            return;\n        }\n\n        var scale = 1;\n        if (this.context != '2d') {\n            scale = this.canvasLayer.devicePixelRatio;\n        }\n\n        var map = this.map;\n        var mapProjection = map.getProjection();\n        var scale = Math.pow(2, map.zoom) * resolutionScale;\n        var offset = mapProjection.fromLatLngToPoint(this.canvasLayer.getTopLeft());\n        var dataGetOptions = {\n            //fromColumn: self.options.coordType == 'bd09mc' ? 'coordinates' : 'coordinates_mercator',\n            transferCoordinate: function(coordinate) {\n                var latLng = new google.maps.LatLng(coordinate[1], coordinate[0]);\n                var worldPoint = mapProjection.fromLatLngToPoint(latLng);\n                var pixel = {\n                    x: (worldPoint.x - offset.x) * scale,\n                    y: (worldPoint.y - offset.y) * scale,\n                }\n                return [pixel.x, pixel.y];\n            }\n        }\n\n        if (time !== undefined) {\n            dataGetOptions.filter = function(item) {\n                var trails = animationOptions.trails || 10;\n                if (time && item.time > (time - trails) && item.time < time) {\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n        }\n\n        // get data from data set\n        var data = self.dataSet.get(dataGetOptions);\n\n        this.processData(data);\n\n        var latLng = new google.maps.LatLng(0, 0);\n        var worldPoint = mapProjection.fromLatLngToPoint(latLng);\n        var pixel = {\n            x: (worldPoint.x - offset.x) * scale,\n            y: (worldPoint.y - offset.y) * scale,\n        }\n\n\n        if (self.options.unit == 'm' && self.options.size) {\n            self.options._size = self.options.size / zoomUnit;\n        } else {\n            self.options._size = self.options.size;\n        }\n\n        this.drawContext(context, new DataSet(data), self.options, pixel);\n\n        //console.timeEnd('draw');\n\n        //console.timeEnd('update')\n        self.options.updateCallback && self.options.updateCallback(time);\n    }\n\n    init(options) {\n\n        var self = this;\n\n        self.options = options;\n\n        this.initDataRange(options);\n\n        this.context = self.options.context || '2d';\n\n        if (self.options.zIndex) {\n            this.canvasLayer && this.canvasLayer.setZIndex(self.options.zIndex);\n        }\n\n        this.initAnimator();\n    }\n\n    addAnimatorEvent() {\n        this.map.addListener('movestart', this.animatorMovestartEvent.bind(this));\n        this.map.addListener('moveend', this.animatorMoveendEvent.bind(this));\n    }\n\n    show() {\n        this.map.addOverlay(this.canvasLayer);\n    }\n\n    hide() {\n        this.map.removeOverlay(this.canvasLayer);\n    }\n\n    draw() {\n        self.canvasLayer.draw();\n    }\n\n}\n\n\nexport default Layer;\n","/**\n * MapV for maptalks.js (https://github.com/maptalks/maptalks.js)\n * @author fuzhenn / https://github.com/fuzhenn\n */\n// import * as maptalks from 'maptalks';\nimport BaseLayer from \"../BaseLayer\";\nimport clear from \"../../canvas/clear\";\nimport DataSet from \"../../data/DataSet\";\nimport TWEEN from \"../../utils/Tween\";\n\nlet Layer;\nif (typeof(maptalks) !== 'undefined') {\n    Layer = class extends maptalks.Layer{\n\n        constructor(id, dataSet, options) {\n            super(id, options);\n            this.options_ = options;\n            this.dataSet = dataSet;\n            this._initBaseLayer(options);\n        }\n    \n        _initBaseLayer(options) {\n            const self = this;\n            const baseLayer = this.baseLayer = new BaseLayer(null, this.dataSet, options);\n            self.init(options);\n            baseLayer.argCheck(options);\n        } \n    \n        clickEvent(e) {\n            if (!this.baseLayer) {\n                return;\n            }\n            const pixel = e.containerPoint;\n            this.baseLayer.clickEvent(pixel, e.domEvent);\n        }\n    \n        mousemoveEvent(e) {\n            if (!this.baseLayer) {\n                return;\n            }\n            const pixel = e.containerPoint;\n            this.baseLayer.mousemoveEvent(pixel, e.domEvent);\n        }\n    \n        getEvents() {\n            return {\n                'click' : this.clickEvent,\n                'mousemove' : this.mousemoveEvent\n            };\n        }\n        \n        init(options) {\n    \n            const base = this.baseLayer;\n    \n            base.options = options;\n    \n            base.initDataRange(options);\n    \n            base.context = base.options.context || '2d';\n    \n            base.initAnimator();\n        }\n    \n        addAnimatorEvent() {\n            this.map.addListener('movestart', this.animatorMovestartEvent.bind(this));\n            this.map.addListener('moveend', this.animatorMoveendEvent.bind(this));\n        }\n    \n    }\n    \n    class LayerRenderer extends maptalks.renderer.CanvasRenderer {\n    \n        needToRedraw() {\n            const base = this.layer.baseLayer;\n            if (base.isEnabledTime()) {\n                return true;\n            }\n            return super.needToRedraw();\n        }\n    \n        draw() {\n            const base = this.layer.baseLayer;\n            if (!this.canvas || !base.isEnabledTime() || this._shouldClear) {\n                this.prepareCanvas();\n                this._shouldClear = false;\n            }\n            this._update(this.gl || this.context, this._mapvFrameTime);\n            delete this._mapvFrameTime;\n            this.completeRender();\n        }\n    \n        drawOnInteracting() {\n            this.draw();\n            this._shouldClear = false;\n        }\n    \n        onSkipDrawOnInteracting() {\n            this._shouldClear = true;\n        }\n    \n        _canvasUpdate(time) {\n            this.setToRedraw();\n            this._mapvFrameTime = time;\n        }\n    \n        _update(context, time) {\n            if (!this.canvas) {\n                return;\n            }\n    \n            const self = this.layer.baseLayer;\n    \n            const animationOptions = self.options.animation;\n    \n            const map = this.getMap();\n    \n            if (self.isEnabledTime()) {\n                if (time === undefined) {\n                    clear(context);\n                    return;\n                }\n                if (self.context == '2d') {\n                    context.save();\n                    context.globalCompositeOperation = 'destination-out';\n                    context.fillStyle = 'rgba(0, 0, 0, .1)';\n                    context.fillRect(0, 0, context.canvas.width, context.canvas.height);\n                    context.restore();\n                }\n            } else {\n                clear(context);\n            }\n    \n            if (self.context == '2d') {\n                for (const key in self.options) {\n                    context[key] = self.options[key];\n                }\n            } else {\n                context.clear(context.COLOR_BUFFER_BIT);\n            }\n    \n            let scale = 1;\n            if (self.context === '2d' && self.options.draw !== 'heatmap') {\n                //in heatmap.js, devicePixelRatio is being mulitplied independently\n                scale = self.canvasLayer.devicePixelRatio;\n            }\n    \n            //reuse to save coordinate instance creation\n            const coord = new maptalks.Coordinate(0, 0);\n            const dataGetOptions = {\n                fromColumn: self.options.coordType === 'bd09mc' ? 'coordinates_mercator' : 'coordinates',\n                transferCoordinate: function(coordinate) {\n                    coord.x = coordinate[0];\n                    coord.y = coordinate[1];\n                    const r = map.coordToContainerPoint(coord)._multi(scale).toArray();\n                    return r;\n                }\n            }\n    \n            if (time !== undefined) {\n                dataGetOptions.filter = function(item) {\n                    const trails = animationOptions.trails || 10;\n                    if (time && item.time > (time - trails) && item.time < time) {\n                        return true;\n                    } else {\n                        return false;\n                    }\n                }\n            }\n    \n            // get data from data set\n            const data = self.dataSet.get(dataGetOptions);\n    \n            self.processData(data);\n    \n            if (self.options.unit == 'm') {\n                if (self.options.size) {\n                    self.options._size = self.options.size / zoomUnit;\n                }\n                if (self.options.width) {\n                    self.options._width = self.options.width / zoomUnit;\n                }\n                if (self.options.height) {\n                    self.options._height = self.options.height / zoomUnit;\n                }\n            } else {\n                self.options._size = self.options.size;\n                self.options._height = self.options.height;\n                self.options._width = self.options.width;\n            }\n    \n            const zeroZero = new maptalks.Point(0, 0);\n            //screen position of the [0, 0] point\n            const zeroZeroScreen = map._pointToContainerPoint(zeroZero)._multi(scale);\n            self.drawContext(context, data, self.options, zeroZeroScreen);\n    \n            //console.timeEnd('draw');\n    \n            //console.timeEnd('update')\n            self.options.updateCallback && self.options.updateCallback(time);\n        }\n    \n        createCanvas() {\n            if (this.canvas) {\n                return;\n            }\n            const map = this.getMap();\n            const size = map.getSize();\n            const r = maptalks.Browser.retina ? 2 : 1,\n                w = r * size.width,\n                h = r * size.height;\n            this.canvas = maptalks.Canvas.createCanvas(w, h, map.CanvasClass);\n            const mapvContext = this.layer.baseLayer.context;\n            if (mapvContext === '2d') {\n                this.context = this.canvas.getContext('2d');\n                if (this.layer.options['globalCompositeOperation']) {\n                    this.context.globalCompositeOperation = this.layer.options['globalCompositeOperation'];\n                }\n            } else {\n                const attributes = {\n                    'alpha': true,\n                    'preserveDrawingBuffer' : true,\n                    'antialias' : false\n                };\n                this.gl = this.canvas.getContext('webgl', attributes);\n            }\n    \n            this.onCanvasCreate();\n    \n            this._bindToMapv();\n    \n            this.layer.fire('canvascreate', {\n                'context' : this.context,\n                'gl' : this.gl\n            });\n        }\n    \n        _bindToMapv() {\n            //some bindings needed by mapv baselayer\n            const base = this.layer.baseLayer;\n            this.devicePixelRatio = maptalks.Browser.retina ? 2 : 1;\n            base.canvasLayer = this;\n            base._canvasUpdate = this._canvasUpdate.bind(this);\n            base.getContext = function () {\n                const renderer = self.getRenderer();\n                return renderer.gl || renderer.context;\n            };\n        }\n    }\n    \n    Layer.registerRenderer('canvas', LayerRenderer);\n}\n\nexport default Layer;\n","/**\n * MapV for AMap\n * @author sakitam-fdd - https://github.com/sakitam-fdd\n */\n\nimport BaseLayer from \"../BaseLayer\";\nimport clear from \"../../canvas/clear\";\nimport DataSet from \"../../data/DataSet\";\nimport TWEEN from \"../../utils/Tween\";\n\n/**\n * create canvas\n * @param width\n * @param height\n * @param Canvas\n * @returns {HTMLCanvasElement}\n */\nconst createCanvas = (width, height, Canvas) => {\n    if (typeof document !== 'undefined') {\n        const canvas = document.createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n        return canvas\n    } else {\n        // create a new canvas instance in node.js\n        // the canvas class needs to have a default constructor without any parameter\n        return new Canvas(width, height)\n    }\n};\n\nclass Layer extends BaseLayer {\n    constructor(map = null, dataSet, options) {\n        super(map, dataSet, options);\n\n        this.options = options;\n\n        /**\n         * internal\n         * @type {{canvas: null, devicePixelRatio: number}}\n         */\n        this.canvasLayer = {\n            canvas: null,\n            devicePixelRatio: window.devicePixelRatio\n        };\n\n        /**\n         * canvas layer\n         * @type {null}\n         * @private\n         */\n        this.layer_ = null;\n\n        this.initDataRange(options);\n        this.initAnimator();\n        this.onEvents()\n        map.on('complete', function () {\n            this.init(map, options);\n            this.argCheck(options);\n        }, this);\n    }\n\n    /**\n     * init mapv layer\n     * @param map\n     * @param options\n     */\n    init(map, options) {\n        if (map) {\n            this.map = map;\n            this.context = this.options.context || '2d';\n            this.getCanvasLayer();\n        } else {\n            throw new Error('not map object')\n        }\n    }\n\n    /**\n     * update layer\n     * @param time\n     * @private\n     */\n    _canvasUpdate(time) {\n        this.render(this.canvasLayer.canvas, time);\n    }\n\n    /**\n     * render layer\n     * @param canvas\n     * @param time\n     * @returns {Layer}\n     */\n    render(canvas, time) {\n        if (!canvas) return;\n        const map = this.map;\n        const context = canvas.getContext(this.context);\n        const animationOptions = this.options.animation;\n        if (this.isEnabledTime()) {\n            if (time === undefined) {\n                clear(context);\n                return this;\n            }\n            if (this.context === '2d') {\n                context.save();\n                context.globalCompositeOperation = 'destination-out';\n                context.fillStyle = 'rgba(0, 0, 0, .1)';\n                context.fillRect(0, 0, context.canvas.width, context.canvas.height);\n                context.restore();\n            }\n        } else {\n            clear(context);\n        }\n\n        if (this.context === '2d') {\n            for (const key in this.options) {\n                context[key] = this.options[key];\n            }\n        } else {\n            context.clear(context.COLOR_BUFFER_BIT);\n        }\n        const dataGetOptions = {\n            transferCoordinate: function (coordinate) {\n                const _pixel = map.lngLatToContainer(new AMap.LngLat(coordinate[0], coordinate[1]));\n                return [_pixel['x'], _pixel['y']];\n            }\n        };\n\n        if (time !== undefined) {\n            dataGetOptions.filter = function (item) {\n                const trails = animationOptions.trails || 10;\n                if (time && item.time > (time - trails) && item.time < time) {\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n        }\n\n        const data = this.dataSet.get(dataGetOptions);\n        this.processData(data);\n\n        if (this.options.unit === 'm') {\n            if (this.options.size) {\n                this.options._size = this.options.size / zoomUnit;\n            }\n            if (this.options.width) {\n                this.options._width = this.options.width / zoomUnit;\n            }\n            if (this.options.height) {\n                this.options._height = this.options.height / zoomUnit;\n            }\n        } else {\n            this.options._size = this.options.size;\n            this.options._height = this.options.height;\n            this.options._width = this.options.width;\n        }\n\n        this.drawContext(context, new DataSet(data), this.options, {x: 0, y: 0});\n        this.options.updateCallback && this.options.updateCallback(time);\n        return this\n    }\n\n    /**\n     * get canvas layer\n     */\n    getCanvasLayer() {\n        if (!this.canvasLayer.canvas && !this.layer_) {\n            const canvas = this.canvasFunction();\n            const bounds = this.map.getBounds();\n            this.layer_ = new AMap.CanvasLayer({\n                canvas: canvas,\n                bounds: this.options.bounds || bounds,\n                zooms: this.options.zooms || [0, 22],\n            });\n            this.layer_.setMap(this.map);\n            this.map.on('mapmove', this.canvasFunction, this);\n            this.map.on('zoomchange', this.canvasFunction, this);\n        }\n    }\n\n    /**\n     * canvas constructor\n     * @returns {*}\n     */\n    canvasFunction() {\n        const [width, height] = [this.map.getSize().width, this.map.getSize().height]\n        if (!this.canvasLayer.canvas) {\n            this.canvasLayer.canvas = createCanvas(width, height)\n        } else {\n            this.canvasLayer.canvas.width = width;\n            this.canvasLayer.canvas.height = height;\n            const bounds = this.map.getBounds();\n            if (this.layer_) {\n                this.layer_.setBounds(this.options.bounds || bounds);\n            }\n        }\n        this.render(this.canvasLayer.canvas)\n        return this.canvasLayer.canvas\n    }\n\n    /**\n     * remove layer\n     */\n    removeLayer() {\n        if (!this.map) return;\n        this.unEvents();\n        this.map.removeLayer(this.layer_);\n        delete this.map;\n        delete this.layer_;\n        delete this.canvasLayer.canvas;\n    }\n\n    getContext() {\n        return this.canvasLayer.canvas.getContext(this.context);\n    }\n\n    /**\n     * handle click event\n     * @param event\n     */\n    clickEvent(event) {\n        const pixel = event.pixel;\n        super.clickEvent(pixel, event);\n    }\n\n    /**\n     * handle mousemove/pointermove event\n     * @param event\n     */\n    mousemoveEvent(event) {\n        const pixel = event.pixel;\n        super.mousemoveEvent(pixel, event);\n    }\n\n    /**\n     * add animator event\n     */\n    addAnimatorEvent() {\n        this.map.on('movestart', this.animatorMovestartEvent, this);\n        this.map.on('moveend', this.animatorMoveendEvent, this);\n    }\n\n    /**\n     * bind event\n     */\n    onEvents() {\n        const map = this.map;\n        this.unEvents();\n        if (this.options.methods) {\n            if (this.options.methods.click) {\n                map.on('click', this.clickEvent, this);\n            }\n            if (this.options.methods.mousemove) {\n                map.on('mousemove', this.mousemoveEvent, this);\n            }\n        }\n    }\n\n    /**\n     * unbind events\n     */\n    unEvents() {\n        const map = this.map;\n        if (this.options.methods) {\n            if (this.options.methods.click) {\n                map.off('click', this.clickEvent, this);\n            }\n            if (this.options.methods.mousemove) {\n                map.off('mousemove', this.mousemoveEvent, this);\n            }\n        }\n    }\n}\n\nexport default Layer","/**\n * MapV for openlayers (https://openlayers.org)\n * @author sakitam-fdd - https://github.com/sakitam-fdd\n */\n\nimport BaseLayer from \"../BaseLayer\";\nimport clear from \"../../canvas/clear\";\nimport DataSet from \"../../data/DataSet\";\nimport TWEEN from \"../../utils/Tween\";\n\n/**\n * create canvas\n * @param width\n * @param height\n * @returns {HTMLCanvasElement}\n */\nconst createCanvas = (width, height) => {\n  if (typeof document !== 'undefined') {\n    const canvas = document.createElement('canvas')\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  } else {\n    // create a new canvas instance in node.js\n    // the canvas class needs to have a default constructor without any parameter\n  }\n}\n\nclass Layer extends BaseLayer {\n  constructor (map = null, dataSet, options) {\n    super(map, dataSet, options);\n\n    this.options = options;\n\n    /**\n     * internal\n     * @type {{canvas: null, devicePixelRatio: number}}\n     */\n    this.canvasLayer = {\n      canvas: null,\n      devicePixelRatio: window.devicePixelRatio\n    }\n\n    /**\n     * cavnas layer\n     * @type {null}\n     * @private\n     */\n    this.layer_ = null;\n\n    /**\n     * previous cursor\n     * @type {undefined}\n     * @private\n     */\n    this.previousCursor_ = undefined\n\n    this.init(map, options);\n    this.argCheck(options);\n  }\n\n  /**\n   * init mapv layer\n   * @param map\n   * @param options\n   */\n  init (map, options) {\n    if (map && map instanceof ol.Map) {\n      this.$Map = map;\n      this.context = this.options.context || '2d';\n      this.getCanvasLayer();\n      this.initDataRange(options);\n      this.initAnimator();\n      this.onEvents()\n    } else {\n      throw new Error('not map object')\n    }\n  }\n\n  /**\n   * update layer\n   * @param time\n   * @private\n   */\n  _canvasUpdate (time) {\n    this.render(this.canvasLayer.canvas, time);\n  }\n\n  /**\n   * render layer\n   * @param canvas\n   * @param time\n   * @returns {Layer}\n   */\n  render (canvas, time) {\n    const map = this.$Map;\n    const context = canvas.getContext(this.context);\n    const animationOptions = this.options.animation;\n    const _projection = this.options.hasOwnProperty('projection') ? this.options.projection : 'EPSG:4326';\n    if (this.isEnabledTime()) {\n      if (time === undefined) {\n        clear(context);\n        return this;\n      }\n      if (this.context === '2d') {\n        context.save();\n        context.globalCompositeOperation = 'destination-out';\n        context.fillStyle = 'rgba(0, 0, 0, .1)';\n        context.fillRect(0, 0, context.canvas.width, context.canvas.height);\n        context.restore();\n      }\n    } else {\n      clear(context);\n    }\n\n    if (this.context === '2d') {\n      for (const key in this.options) {\n        context[key] = this.options[key];\n      }\n    } else {\n      context.clear(context.COLOR_BUFFER_BIT);\n    }\n    const dataGetOptions = {\n      transferCoordinate: function(coordinate) {\n        return map.getPixelFromCoordinate(ol.proj.transform(coordinate, _projection, 'EPSG:4326'));\n      }\n    };\n\n    if (time !== undefined) {\n      dataGetOptions.filter = function(item) {\n        const trails = animationOptions.trails || 10;\n        if (time && item.time > (time - trails) && item.time < time) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    }\n\n    const data = this.dataSet.get(dataGetOptions);\n    this.processData(data);\n\n    if (this.options.unit === 'm') {\n      if (this.options.size) {\n        this.options._size = this.options.size / zoomUnit;\n      }\n      if (this.options.width) {\n        this.options._width = this.options.width / zoomUnit;\n      }\n      if (this.options.height) {\n        this.options._height = this.options.height / zoomUnit;\n      }\n    } else {\n      this.options._size = this.options.size;\n      this.options._height = this.options.height;\n      this.options._width = this.options.width;\n    }\n\n    this.drawContext(context, new DataSet(data), this.options, {x: 0, y: 0});\n    this.options.updateCallback && this.options.updateCallback(time);\n    return this\n  }\n\n  /**\n   * get canvas layer\n   */\n  getCanvasLayer () {\n    if (!this.canvasLayer.canvas && !this.layer_) {\n      const extent = this.getMapExtent();\n      this.layer_ = new ol.layer.Image({\n        layerName: this.options.layerName,\n        minResolution: this.options.minResolution,\n        maxResolution: this.options.maxResolution,\n        zIndex: this.options.zIndex,\n        extent: extent,\n        source: new ol.source.ImageCanvas({\n          canvasFunction: this.canvasFunction.bind(this),\n          projection: (this.options.hasOwnProperty('projection') ? this.options.projection : 'EPSG:4326'),\n          ratio: (this.options.hasOwnProperty('ratio') ? this.options.ratio : 1)\n        })\n      });\n      this.$Map.addLayer(this.layer_);\n      this.$Map.un('precompose', this.reRender, this);\n      this.$Map.on('precompose', this.reRender, this);\n    }\n  }\n\n  /**\n   * re render\n   */\n  reRender () {\n    if (!this.layer_) return;\n    const extent = this.getMapExtent();\n    this.layer_.setExtent(extent);\n  }\n\n  /**\n   * canvas constructor\n   * @param extent\n   * @param resolution\n   * @param pixelRatio\n   * @param size\n   * @param projection\n   * @returns {*}\n   */\n  canvasFunction (extent, resolution, pixelRatio, size, projection) {\n    if (!this.canvasLayer.canvas) {\n      this.canvasLayer.canvas = createCanvas(size[0], size[1])\n    } else {\n      this.canvasLayer.canvas.width = size[0];\n      this.canvasLayer.canvas.height = size[1];\n    }\n    this.render(this.canvasLayer.canvas)\n    return this.canvasLayer.canvas\n  }\n\n  /**\n   * get map current extent\n   * @returns {Array}\n   */\n  getMapExtent () {\n    const size = this.$Map.getSize();\n    return this.$Map.getView().calculateExtent(size);\n  }\n\n  /**\n   * add layer to map\n   * @param map\n   */\n  addTo (map) {\n    this.init(map, this.options);\n  }\n\n  /**\n   * remove layer\n   */\n  removeLayer () {\n    if (!this.$Map) return;\n    this.unEvents();\n    this.$Map.un('precompose', this.reRender, this);\n    this.$Map.removeLayer(this.layer_);\n    delete this.$Map;\n    delete this.layer_;\n    delete this.canvasLayer.canvas;\n  }\n\n  getContext() {\n    return this.canvasLayer.canvas.getContext(this.context);\n  }\n\n  /**\n   * handle click event\n   * @param event\n   */\n  clickEvent(event) {\n    const pixel = event.pixel;\n    super.clickEvent({\n      x: pixel[0],\n      y: pixel[1]\n    }, event);\n  }\n\n  /**\n   * handle mousemove/pointermove event\n   * @param event\n   */\n  mousemoveEvent(event) {\n    const pixel = event.pixel;\n    super.mousemoveEvent({\n      x: pixel[0],\n      y: pixel[1]\n    }, event);\n  }\n\n  /**\n   * add animator event\n   */\n  addAnimatorEvent() {\n    this.$Map.on('movestart', this.animatorMovestartEvent, this);\n    this.$Map.on('moveend', this.animatorMoveendEvent, this);\n  }\n\n  /**\n   * bind event\n   */\n  onEvents () {\n    const map = this.$Map;\n    this.unEvents();\n    if (this.options.methods) {\n      if (this.options.methods.click) {\n        map.on('click', this.clickEvent, this);\n      }\n      if (this.options.methods.mousemove) {\n        map.on('pointermove', this.mousemoveEvent, this);\n      }\n    }\n  }\n\n  /**\n   * unbind events\n   */\n  unEvents () {\n    const map = this.$Map;\n    if (this.options.methods) {\n      if (this.options.methods.click) {\n        map.un('click', this.clickEvent, this);\n      }\n      if (this.options.methods.pointermove) {\n        map.un('pointermove', this.mousemoveEvent, this);\n      }\n    }\n  }\n\n  /**\n   * set map cursor\n   * @param cursor\n   * @param feature\n   */\n  setDefaultCursor (cursor, feature) {\n    if (!this.$Map) return;\n    const element = this.$Map.getTargetElement()\n    if (feature) {\n      if (element.style.cursor !== cursor) {\n        this.previousCursor_ = element.style.cursor\n        element.style.cursor = cursor\n      }\n    } else if (this.previousCursor_ !== undefined) {\n      element.style.cursor = this.previousCursor_\n      this.previousCursor_ = undefined\n    }\n  }\n}\n\nexport default Layer\n","/**\n * @author kyle / http://nikai.us/\n */\n\nimport DataSet from \"./DataSet\";\n\nexport default {\n    getDataSet: function (geoJson) {\n\n        var data = [];\n        var features = geoJson.features;\n        if (features) {\n            for (var i = 0; i < features.length; i++) {\n                var feature = features[i];\n                var geometry = feature.geometry;\n                var properties = feature.properties;\n                var item = {};\n                for (var key in properties) {\n                    item[key] = properties[key];\n                }\n                item.geometry = geometry;\n                data.push(item);\n            }\n        }\n        return new DataSet(data);\n\n    }\n}\n","/**\n * @author kyle / http://nikai.us/\n */\n\nimport DataSet from \"./DataSet\";\n\nexport default {\n    CSVToArray: function(strData, strDelimiter) {\n        // Check to see if the delimiter is defined. If not,\n        // then default to comma.\n        strDelimiter = (strDelimiter || \",\");\n\n        // Create a regular expression to parse the CSV values.\n        var objPattern = new RegExp(\n            (\n                // Delimiters.\n                \"(\\\\\" + strDelimiter + \"|\\\\r?\\\\n|\\\\r|^)\" +\n\n                // Quoted fields.\n                \"(?:\\\"([^\\\"]*(?:\\\"\\\"[^\\\"]*)*)\\\"|\" +\n\n                // Standard fields.\n                \"([^\\\"\\\\\" + strDelimiter + \"\\\\r\\\\n]*))\"\n            ),\n            \"gi\"\n            );\n\n\n        // Create an array to hold our data. Give the array\n        // a default empty first row.\n        var arrData = [[]];\n\n        // Create an array to hold our individual pattern\n        // matching groups.\n        var arrMatches = null;\n\n\n        // Keep looping over the regular expression matches\n        // until we can no longer find a match.\n        while (arrMatches = objPattern.exec( strData )){\n\n            // Get the delimiter that was found.\n            var strMatchedDelimiter = arrMatches[ 1 ];\n\n            // Check to see if the given delimiter has a length\n            // (is not the start of string) and if it matches\n            // field delimiter. If id does not, then we know\n            // that this delimiter is a row delimiter.\n            if (\n                strMatchedDelimiter.length &&\n                strMatchedDelimiter !== strDelimiter\n                ){\n\n                // Since we have reached a new row of data,\n                // add an empty row to our data array.\n                arrData.push( [] );\n\n            }\n\n            var strMatchedValue;\n\n            // Now that we have our delimiter out of the way,\n            // let's check to see which kind of value we\n            // captured (quoted or unquoted).\n            if (arrMatches[ 2 ]){\n\n                // We found a quoted value. When we capture\n                // this value, unescape any double quotes.\n                strMatchedValue = arrMatches[ 2 ].replace(\n                    new RegExp( \"\\\"\\\"\", \"g\" ),\n                    \"\\\"\"\n                    );\n\n            } else {\n\n                // We found a non-quoted value.\n                strMatchedValue = arrMatches[ 3 ];\n\n            }\n\n\n            // Now that we have our value string, let's add\n            // it to the data array.\n            arrData[ arrData.length - 1 ].push( strMatchedValue );\n        }\n\n        // Return the parsed data.\n        return( arrData );\n    },\n\n    getDataSet: function (csvStr, split) {\n\n        var arr = this.CSVToArray(csvStr, split || ',');\n\n        var data = [];\n\n\t\tvar header  = arr[0];\n\n        for (var i = 1; i < arr.length - 1; i++) {\n            var line = arr[i];\n            var item = {};\n            for (var j = 0; j < line.length; j++) {\n                var value = line[j];\n                if (header[j] == 'geometry') {\n                    value = JSON.parse(value);\n                }\n                item[header[j]] = value;\n            }\n            data.push(item);\n        }\n\n        return new DataSet(data);\n\n    }\n}\n"],"names":["version","context","clearRect","canvas","width","height","devicePixelRatio","window","style","scale","Event","_subscribers","prototype","on","event","callback","subscribers","push","off","i","length","splice","_trigger","params","senderId","Error","concat","len","subscriber","citycenter","municipalities","n","g","provinces","cities","other","getCenter","item","split","parseFloat","name","provinceName","j","replace","DataSet","data","options","bind","_options","_data","add","Array","isArray","time","substr","Date","getTime","Object","_dataCache","JSON","parse","stringify","reset","get","args","start","filter","newData","transferCoordinate","fromColumn","toColumn","set","_set","clear","remove","update","cbk","condition","flag","key","transferFn","toColumnName","geometry","coordinates","type","newCoordinates","getPolygon","c","polygon","coordinate","newcoordinate","initGeometry","forEach","lng","lat","city","center","cityCenter","getCenterByCityName","getMax","columnName","max","value","getSum","sum","getMin","min","getUnique","maps","hex_corner","size","angle_deg","angle_rad","Math","PI","x","cos","y","sin","draw","result","lineTo","dataSet","_coordinates","symbol","_size","bigData","moveTo","arc","rect","drawLineString","lineString","drawPolygon","multiPolygonDraw","log","beginPath","closePath","save","fill","lineDash","setLineDash","strokeStyle","lineWidth","stroke","restore","fillStyle","_fillStyle","_strokeStyle","_lineWidth","Canvas","document","createElement","Intensity","gradient","maxSize","minSize","initPalette","setMax","setMin","setMaxSize","setMinSize","paletteCtx","getContext","lineGradient","createLinearGradient","addColorStop","fillRect","getColor","imageData","getImageData","undefined","index","floor","getSize","getLegend","global","createCircle","shadowBlur","r2","offsetDistance","circle","shadowColor","shadowOffsetX","shadowOffsetY","colorize","pixels","diff","range","jMin","jMax","maxOpacity","drawGray","intensity","circleHalfWidth","circleHalfHeight","dataOrderByAlpha","count","alpha","toFixed","isNaN","withoutAlpha","globalAlpha","drawImage","strength","shadowCanvas","shadowContext","absolute","colored","putImageData","grids","offset","gridKey","label","show","font","text","textWidth","measureText","fillText","r","dx","dy","binsById","py","pj","round","px","pi","py1","abs","px1","pi2","pj2","px2","py2","id","bin","createShader","gl","src","shader","shaderSource","compileShader","initShaders","vs_source","fs_source","vertexShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","glProgram","createProgram","attachShader","linkProgram","useProgram","getColorData","color","tmpCanvas","tmpCtx","vs_s","join","fs_s","program","enable","BLEND","blendFunc","SRC_ALPHA","ONE","COLOR_BUFFER_BIT","halfCanvasWidth","halfCanvasHeight","vertexBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","a_Position","getAttribLocation","vertexAttribPointer","FLOAT","enableVertexAttribArray","uFragColor","getUniformLocation","uniform4f","_geometry","verticesData","vertices","Float32Array","bufferData","STATIC_DRAW","drawArrays","LINE_STRIP","a_PointSize","vertexAttrib1f","POINTS","earcut","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","triangles","minX","minY","maxX","maxY","eliminateHoles","end","clockwise","last","signedArea","insertNode","equals","next","filterPoints","p","again","steiner","area","prev","earcutLinked","ear","pass","indexCurve","stop","isEarHashed","isEar","cureLocalIntersections","a","b","pointInTriangle","minTX","minTY","maxTX","maxTY","minZ","zOrder","maxZ","nextZ","z","prevZ","intersects","locallyInside","splitEarcut","isValidDiagonal","splitPolygon","queue","list","getLeftmost","sort","compareX","eliminateHole","hole","findHoleBridge","hx","hy","qx","Infinity","m","mx","my","tanMin","tan","sortLinked","q","e","tail","numMerges","pSize","qSize","inSize","leftmost","ax","ay","bx","by","cx","cy","intersectsPolygon","middleInside","p1","p2","q1","q2","inside","a2","Node","b2","an","bp","removeNode","deviation","polygonArea","trianglesArea","flatten","holes","dimensions","holeIndex","d","viewport","ELEMENT_ARRAY_BUFFER","verticesArr","trianglesArr","indexOffset","Uint16Array","drawElements","TRIANGLES","UNSIGNED_SHORT","getCurvePoints","points","curvePoints","getCurveByTwoPoints","obj1","obj2","info","B1","B2","B3","curveCoordinates","isFuture","t","h","h2","lat3","lng3","t2","LnArray","inc","lat1","lat2","lng1","lng2","atan","lng1_src","lng2_src","curve","ForceEdgeBundling","data_nodes","subdivision_points_for_edge","K","invers_quadratic_mode","eps","vector_dot_product","edge_as_vector","P","target","source","edge_length","sqrt","pow","custom_edge_length","edge_midpoint","middle_x","middle_y","compute_divided_edge_length","e_idx","segment_length","euclidean_distance","project_point_on_line","Q","L","initialize_edge_subdivisions","data_edges","P_initial","initialize_compatibility_lists","filter_self_loops","edgelist","filtered_edge_list","apply_spring_force","kP","crnt","apply_electrostatic_force","S","sum_of_forces","compatible_edges_list","compatibility_list_for_edge","oe","force","apply_resulting_forces_on_subdivision_points","resulting_forces_for_subdivision_points","resulting_force","spring_force","electrostatic_force","update_edge_divisions","divided_edge_length","current_segment_length","new_subdivision_points","old_segment_length","percent_position","new_subdivision_point_x","new_subdivision_point_y","angle_compatibility","scale_compatibility","lavg","position_compatibility","midP","midQ","edge_visibility","I0","I1","midI","visibility_compatibility","compatibility_score","are_compatible","compatibility_threshold","compute_compatibility_lists","forcebundle","S_initial","I","I_initial","cycle","C","iteration","forces","edge","I_rate","nodes","nl","arguments","edges","ll","bundling_stiffness","k","step_size","step","cycles","iterations","iterations_rate","subdivision_points_seed","subdivision_rate","P_rate","compatbility_threshold","Category","splitList","generateByDataSet","colors","container","cssText","html","innerHTML","Choropleth","generateByMinMax","splitNum","Number","MapHelper","opt","warn","BMap","zoom","map","Map","centerAndZoom","Point","enableScrollWheelZoom","setMapStyle","datas","mapv","baiduMapLayer","CanvasLayer","paneName","zIndex","mixBlendMode","enableMassClear","_map","_lastDrawTime","Overlay","initialize","adjustSize","getPanes","appendChild","that","addEventListener","_draw","self","timeoutID","setTimeout","pixel","pointToOverlayPixel","left","top","dispatchEvent","call","getContainer","addOverlay","display","hide","setZIndex","getZIndex","TWEEN","_tweens","tween","indexOf","preserve","now","process","hrtime","performance","Tween","object","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_repeatDelayTime","_yoyo","_isPlaying","_reversed","_delayTime","_startTime","_easingFunction","Easing","Linear","None","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onCompleteCallback","_onStopCallback","to","properties","duration","property","stopChainedTweens","numChainedTweens","delay","amount","repeat","times","repeatDelay","yoyo","easing","interpolation","chain","onStart","onUpdate","onComplete","onStop","elapsed","charAt","isFinite","tmp","s","Bounce","Out","In","v","f","fn","Utils","pw","bn","Bernstein","CatmullRom","p0","fc","Factorial","p3","v0","v1","t3","getAngle","diff_x","diff_y","deg","imageCache","imageCacheKey","arrow","url","directionImage","slice","image","Image","onload","apply","preCoordinate","interval","getDistance","angle","translate","rotate","coordinateA","coordinateB","clip","drawDataSet","rects","textKey","textAlign","textBaseline","avoid","hasOverlay","overlay","isRectOverlay","rect1","rect2","minx","ne","miny","sw","maxx","maxy","icon","_width","_height","sx","sy","swidth","sheight","animate","BaseLayer","category","choropleth","legend","styleType","animationOptions","animation","enabled","nwPixel","canvasLayer","geoType","isPointInStroke","isPointInPath","methods","dataItem","click","mousemove","obj","isDraw","init","ctx","conf","getDefaultContextConfig","unbindEvent","isEnabledTime","stepsRange","steps","animator","_canvasUpdate","addAnimatorEvent","AnimationLayer","transferToMercator","initDataRange","initAnimator","projection","getMapType","getProjection","coordType","lngLatToPoint","zoomUnit","getZoom","mcCenter","nwMc","Pixel","dataGetOptions","processData","drawAnimation","globalCompositeOperation","_index","animateTime","timeout","Layer","clickEvent","mousemoveEvent","argCheck","setDefaultCursor","removeEventListener","minZoom","maxZoom","trails","pointToPixel","unit","drawContext","updateCallback","bindEvent","animatorMovestartEvent","animatorMoveendEvent","removeOverlay","opt_options","isAdded_","isAnimated_","paneName_","DEFAULT_PANE_NAME_","updateHandler_","resizeHandler_","topLeft_","centerListener_","resizeListener_","needsResize_","requestAnimationFrameId_","position","pointerEvents","canvasCssWidth_","canvasCssHeight_","resolutionScale_","simpleBindShim","thisArg","func","repositionFunction_","repositionCanvas_","resizeFunction_","resize_","requestUpdateFunction_","update_","setOptions","google","OverlayView","CSS_TRANSFORM_","div","transformProps","prop","requestAnimFrame_","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","cancelAnimFrame_","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","requestId","setAnimate","setPaneName","updateHandler","setUpdateHandler","resizeHandler","setResizeHandler","resolutionScale","setResolutionScale","setMap","scheduleUpdate","isAnimated","setPane_","getPaneName","panes","opt_resizeHandler","opt_updateHandler","onAdd","addListener","getMap","onRemove","parentElement","removeChild","removeListener","mapWidth","getDiv","offsetWidth","mapHeight","offsetHeight","newWidth","newHeight","oldWidth","oldHeight","getBounds","getNorthEast","LatLng","divCenter","fromLatLngToDivPixel","offsetX","offsetY","getTopLeft","canvasLayerOptions","mapProjection","fromLatLngToPoint","latLng","worldPoint","maptalks","options_","_initBaseLayer","baseLayer","containerPoint","domEvent","base","LayerRenderer","layer","_shouldClear","prepareCanvas","_update","_mapvFrameTime","completeRender","setToRedraw","coord","Coordinate","coordToContainerPoint","_multi","toArray","zeroZero","zeroZeroScreen","_pointToContainerPoint","Browser","retina","w","createCanvas","CanvasClass","mapvContext","attributes","onCanvasCreate","_bindToMapv","fire","renderer","getRenderer","CanvasRenderer","registerRenderer","layer_","onEvents","getCanvasLayer","render","_pixel","lngLatToContainer","AMap","LngLat","canvasFunction","bounds","zooms","setBounds","unEvents","removeLayer","previousCursor_","ol","$Map","_projection","hasOwnProperty","getPixelFromCoordinate","proj","transform","extent","getMapExtent","layerName","minResolution","maxResolution","ImageCanvas","ratio","addLayer","un","reRender","setExtent","resolution","pixelRatio","getView","calculateExtent","pointermove","cursor","feature","element","getTargetElement","geoJson","features","strData","strDelimiter","objPattern","RegExp","arrData","arrMatches","exec","strMatchedDelimiter","strMatchedValue","csvStr","arr","CSVToArray","header","line"],"mappings":"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"}